{"version":3,"sources":["components/utils/responseHelper.js","components/elements/AudioCharts.js","components/utils/useRecorder.js","components/elements/Recorder.js","components/pages/Welcome.js","components/elements/Player.js","components/utils/processAudio.js","components/pages/PerceptionTask.js","components/pages/ProductionMatchingTask.js","components/pages/ProductionReadingTask.js","components/pages/PerceptionIdentificationTonesTemplate.js","components/elements/WordList.js","components/pages/PerceptionIdentificationProminenceTemplate.js","components/pages/End.js","App.js","reportWebVitals.js","index.js"],"names":["axios","defaults","xsrfCookieName","xsrfHeaderName","getResponses","data","a","method","url","params","response","console","log","submitResponse","Chart","register","registerables","PitchChart","props","chartRef","useRef","useEffect","ctx","current","getContext","type","datasets","label","borderWidth","backgroundColor","options","scales","y","x","id","ref","audioBitsPerSecond","AudioContext","FileReader","navigator","mediaDevices","getUserMedia","audio","stream","MediaRecorder","useRecorder","useState","audioURL","setAudioURL","isRecording","setIsRecording","recorder","setRecorder","rawData","setRawData","start","stop","handleData","e","reader","readAsArrayBuffer","onloadend","decodeAudioData","result","then","decodedData","view","getChannelData","URL","createObjectURL","addEventListener","removeEventListener","requestRecorder","error","Recorder","startRecording","stopRecording","sets","className","forwardedRef","Grid","container","src","controls","Button","onClick","disabled","useStyles","makeStyles","theme","content","justifyContent","display","paper","padding","spacing","minWidth","minHeight","elevation","position","withRouter","newUser","setNewUser","code","setCode","sentenceData","history","useHistory","nextTask","push","classes","Paper","direction","alignItems","item","xs","Fade","in","Typography","variant","component","gutterBottom","Stack","TextField","autoFocus","margin","value","onChange","target","message","res","createTrial","Player","processAudioData","headers","transformRequest","JSON","stringify","transformResponse","parse","getPitchScatterData","processedData","i","length","NaN","flexDirection","height","button","bottom","right","grid","chart","marginBottom","setProcessedData","currentTask","setTask","isLoading","toggleLoading","request","response_id","task_id","taskData","CircularProgress","files","filepath","pitchData","handleAudioChange","size","maxHeight","correct","showCorrect","incorrect","showIncorrect","trial","setTrial","getResponse","evaluateTone","currentTarget","eval","trial_id","text","instructions_short","sentence","Box","style","width","Collapse","Alert","action","IconButton","aria-label","color","sx","mb","Icon","severity","alignSelf","Item","styled","typography","body2","textAlign","palette","secondary","WordList","callback","wordList","setWordList","word","setWord","newList","concat","toLowerCase","v4","map","filter","handleRemove","words","setWords","nextTrial","Set","forEach","add","trial_target","prominent_words","split","has","b","Container","to","textDecoration","App","exact","path","Welcome","PerceptionIdentificationTonesTemplate","PerceptionIdentificationProminenceTemplate","ProductionMatchingTaskTemplate","ProductionReadingTaskTemplate","PerceptionTaskTemplate","End","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f9e4cda.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\nexport const getResponses = async (data) => {\n    const response = await axios({\n        method: \"post\",\n        url: \"/api/get-responses/\",\n        data: { params: data }\n    });\n    console.log(data)\n    console.log(response)\n    return response\n}\n\nexport const createTrial = async (data) => {\n    const response = await axios({\n        method: \"get\",\n        url: \"/api/get-responses/\",\n        data:data\n    });\n    console.log(\"Created experiment\")\n    return response\n}\n\n\nexport const submitResponse = async (data) => {\n        const response = await axios({\n            method: \"post\",\n            url: \"/api/submit-response/\",\n            data: data\n        });\n        console.log(\"Submitted response\")\n        return response\n}\n\nexport default submitResponse","import React, { useEffect, useRef } from 'react'\nimport { Chart, registerables } from 'chart.js'\n\n\nChart.register(...registerables);\n\nexport const PitchChart = ( props ) => {\n    let chartRef = useRef()\n    \n    useEffect(() => {\n        let ctx = chartRef.current.getContext('2d')\n\n        let myChart = new Chart(ctx, {\n            type: 'scatter',\n            data: {\n                datasets: [{\n                    label: 'Pitch Frequency',\n                    data: props.data,\n                    borderWidth: 1,\n                    backgroundColor: 'rgb(255, 99, 132)'\n                    }]\n                },\n                options: {\n                    scales: {\n                        y: { },\n                        x: { }\n                    }\n                }\n            });\n        },[])\n\n    return (\n        <canvas id=\"question-data\" ref={chartRef}></canvas>\n    )\n}\n","import { useEffect, useState } from \"react\";\n\n\n\nvar options = {\n  audioBitsPerSecond: 16000\n}\n\n\nconst ctx = new AudioContext();\nconst reader = new FileReader();\n\nconst useRecorder = () => {\nconst [audioURL, setAudioURL] = useState(\"\");\nconst [isRecording, setIsRecording] = useState(false);\nconst [recorder, setRecorder] = useState(null);\nconst [rawData, setRawData] = useState(null)\n  \n\n  useEffect(() => {\n    // Lazily obtain recorder first time we're recording.\n    if (recorder === null) {\n      if (isRecording) {\n        requestRecorder().then(setRecorder, console.error);\n      }\n      return;\n    }\n\n    // Manage recorder state.\n    if (isRecording) {\n      recorder.start();\n    } else {\n      recorder.stop();\n    }\n\n    // Obtain the audio when ready.\n    const handleData = e => {\n      // const blob = new Blob([e.data]);\n      let ctx = new AudioContext();\n      let reader = new FileReader();\n\n      reader.readAsArrayBuffer(e.data);\n      reader.onloadend = () => {\n        console.log('data loaded')\n        ctx.decodeAudioData(reader.result).then(function(decodedData) {\n          console.log(decodedData)\n          const view = decodedData.getChannelData(0) //\n          setRawData(view); // This might be done by \n          setAudioURL(URL.createObjectURL(e.data))//log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n       });  \n      }\n    }; \n    recorder.addEventListener(\"dataavailable\", handleData);\n    return () => recorder.removeEventListener(\"dataavailable\", handleData);\n  }, [recorder, isRecording]);\n\n  const startRecording = () => {\n    setIsRecording(true);\n  };\n\n  const stopRecording = () => {\n    setIsRecording(false);\n  };\n\n  return [audioURL, isRecording, startRecording, stopRecording, rawData];\n};\n\nasync function requestRecorder() {\n  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n  return new MediaRecorder(stream, options);\n}\nexport default useRecorder;\n\n\n","\nimport { useEffect } from  'react'\nimport useRecorder from \"../utils/useRecorder\";\nimport { Button, Grid } from '@material-ui/core'\n\nconst Recorder = (props) => {\n  let [audioURL, isRecording, startRecording, stopRecording, rawData] = useRecorder();\n  \n  useEffect(() => {\n    if (rawData) {\n      console.log(\"Raw data ready.\")\n      props.sets(rawData)\n    } else console.log(\"No current audio.\");\n  }, [rawData])\n\n  return (\n    <div className=\"Recorder\" id=\"recorder\" ref={props.forwardedRef}>\n    <Grid container>\n      <audio src={audioURL} controls/>\n      <Button onClick={startRecording} disabled={isRecording}>\n        start\n      </Button>\n      <Button onClick={stopRecording} disabled={!isRecording}>\n        stop\n      </Button>\n      </Grid> \n    </div>\n  );\n}\n\nexport default Recorder;","import React, { useState, useEffect, useRef} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { withRouter, NavLink, useHistory } from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\nimport { getResponses } from '../utils/responseHelper';\nimport axios from 'axios';\nimport FormDialog from '../elements/FormDialog';\nimport Fade from '@mui/material/Fade';\nimport { PitchChart } from '../elements/AudioCharts';\nimport Recorder from '../elements/Recorder';\nimport TextField from '@mui/material/TextField';\nimport Stack from '@mui/material/Stack';\nconst useStyles = makeStyles((theme) => ({\n  content: { \n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n      padding: theme.spacing(2),\n      \n      minWidth: '100vw',\n      minHeight: '85vh',\n      display:\"flex\",\n      elevation: 3,\n      position: 'relative'\n      \n    },\n    container: {\n        \n    },\n}));\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\nconst Welcome = (props) => {\n  const [currentTask, setCurrentTask] = useState('/')\n  const [newUser, setNewUser] = useState(false)\n  const [code, setCode] = useState(\"\")\n  const taskRef = useRef()\n  const sentenceData = [\"id\"]\n  const history = useHistory()\n\n  const createTrial = (code) => {\n    getResponses(sentenceData).then((response) => {\n          console.log(\"Checking if user exists...\")\n          const data = response.data\n          if (data?.message === 'Next') { // Anon testing purposes\n              nextTask()\n          }\n          if (data === 'None') {\n            axios({\n              method: \"post\",\n              url: \"/api/create-response-set/\",\n              data: { 'code': code }\n            }).then((res) => {\n              console.log(\"Created response set for user.\")\n              nextTask()\n            })\n          }})\n        // When the user selects Enter, experiement begins. \n        // 1. Trial is created\n        // 2. Responses are intialize  \n      }\n\n  const handleInput = (e) => {\n    setCode(e.target.value)\n  }\n\n  const nextTask = () => {\n    getResponses(sentenceData).then((response) => \n      {\n        const data = response.data\n        console.log(data.type);\n        history.push(`/${data.type}`)\n      // axios.post() // get most recent task\n      });\n  }\n  // Entry point: \n  const classes = useStyles();\n\n  useEffect(() =>{\n    // const nav = taskRef.current.setAttribute('href', '/production-task')\n    // console.log(nav)\n    // setCurrentTask('/production-task/')\n    // console.log('Loaded')\n    getResponses(sentenceData).then((response) => {\n      const data = response.data\n      if (data === 'None') {\n        setNewUser(true)\n        \n      } else {\n        console.log(\"User exists. Redirecting to: \", data.type)\n        history.push(`/${data.type}`)\n      }\n    })\n    },[])\n\n    return (\n      <div>\n        <Paper className={classes.paper}>\n          <Grid container>\n            <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" >\n              <Grid  item xs={12}>\n                <Fade in={newUser}>\n                  <Typography variant=\"h1\" component=\"h\" gutterBottom>\n                  </Typography>\n                  </Fade>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"column\" justifyContent=\"flex-end\" alignItems=\"center\" >\n              <Grid  item xs={12}>\n                <Fade in={newUser}>\n                  <Typography variant=\"h1\" component=\"h2\" gutterBottom>\n                      Welcome\n                  </Typography>\n                  </Fade>\n              </Grid>\n            </Grid>\n            \n            <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" >\n            <Stack direction=\"row\" spacing={6} xs={12}>\n            <TextField\n        autoFocus\n        margin=\"dense\"\n        id=\"code\"\n        label=\"Experiment Code\"\n        \n        variant=\"outlined\"\n        value={code}\n        onChange={handleInput}\n            />\n            <Button onClick={ () => {createTrial(code)} }> Enter</Button>\n                </Stack>\n            </Grid>\n            </Grid>\n            \n        </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(Welcome);\n\n","import React from 'react'\n\nconst Player = (props) => {\n    return (\n        <div className=\"Player\">\n            <audio controls src={props.url}/>\n        </div>\n    )\n}\n\nexport default Player\n","import { getCSRF } from './csrfHelper.js'\nimport axios from 'axios'\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\nexport const processAudioData = async (data) => {\n    const response = await axios({\n        method: \"post\",\n        url: \"/api/process/\",\n        data: data,\n        headers: {\"Content-Type\": \"application/octet-stream\"},\n        transformRequest: [(data) => {\n            return JSON.stringify(data);\n        }],\n        transformResponse: [(data) => {\n            return JSON.parse(data);\n        }]\n    });\n    return response\n}\n\nexport const getPitchScatterData = (processedData) => {\n    \n    let data = processedData['x_y'] || []\n    for (let i = 0; i < data.length; i++) {\n        if (data[i]['x'] === 0) {\n            data[i]['x'] = NaN;\n        }\n        if (data[i]['y'] === 0) {\n            data[i]['y'] = NaN;\n        }\n      }\n\n    return data\n}\n\nexport default processAudioData","import React, { useState, useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { CircularProgress } from '@mui/material';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport Recorder from '../elements/Recorder'\nimport Player from '../elements/Player';\nimport { processAudioData, getPitchScatterData } from '../utils/processAudio.js'\nimport { submitResponse, getResponses } from '../utils/responseHelper'\nimport { PitchChart } from '../elements/AudioCharts';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"row\",\n        minWidth: '100vw',\n        minHeight: '80vh',\n        display:\"flex-box\",\n        elevation: 3,\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    },\n\n    chart: {\n        display: 'flex',\n        justifyContent:\"center\",\n        alignItems:\"center\",\n        direction:\"column\",\n        minHeight:\"40%\",\n        marginBottom: \"1vh\",\n        minWidth:\"35vw\",\n    }\n}));\n\nconst PerceptionTaskTemplate = (props) => {\n    const classes = useStyles();\n    let [processedData, setProcessedData] = useState(null)\n    let [currentTask, setTask] = useState(null)\n    let [isLoading, toggleLoading] = useState(false)\n    let history = useHistory()\n    \n    let handleAudioChange = (data) => {\n        const audio = data\n        const response_id = currentTask.response_id\n        const requestData = {\"audio\":audio, \"response_id\":response_id}\n        // let newCanvas = resetCanvas('response-data', 'response-data-container', chartB)\n\n        processAudioData(requestData).then((response) => { \n            let pitchData = getPitchScatterData(response.data)\n            // setChartB(newPitchChart(newCanvas, pitchData, chartB)) // Destroys chart / resets element\n            setProcessedData(pitchData)\n            toggleLoading(false)});\n        }\n    \n    const nextTask = () => {\n        let request = { 'response_id': currentTask.response_id, 'responseData': processedData }\n        submitResponse(request).then((response) => {\n                    const data = response.data\n                    history.push(`/`)\n              });\n            }\n\n    useEffect(() => {\n        // Update the document title using the browser API (next action... taskType determines the element to show)\n        if (processedData === null) {\n            getResponses().then((data)=>setTask(data.data))\n        } else {\n            console.log(\"Processed data changed:\", processedData)\n            getResponses().then((data)=> { currentTask.task_id !== data.data.task_id ? nextTask(): setTask(data.data)});\n        }},[processedData]);\n\n    return (\n        <div className={classes.content}>\n            <Paper className={classes.paper}>\n                <Grid container className={classes.grid}>\n                    <Grid item>\n                        <Paper id=\"question-data-container\" className={classes.chart}>  \n                        { currentTask ? <PitchChart data={getPitchScatterData(currentTask.taskData.audio)}/> : <CircularProgress />}\n                        </Paper>\n                        <Player url={ currentTask ? currentTask.taskData.files[0].filepath : null}></Player>\n                    </Grid>\n                    <Grid item>\n                        <Paper id=\"response-data-container\" className={classes.chart} >\n                            {isLoading ? <CircularProgress /> : <PitchChart data={processedData}/>}\n                        </Paper>\n                        <Recorder sets={(data) => {handleAudioChange(data); toggleLoading(true);} }/>\n                    </Grid>\n                    <Grid item>\n                        <Button variant=\"outlined\" onClick={() => {nextTask();}}>Welcome</Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(PerceptionTaskTemplate)\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { CircularProgress } from '@mui/material';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport Recorder from '../elements/Recorder'\nimport Player from '../elements/Player';\nimport { processAudioData, getPitchScatterData } from '../utils/processAudio.js'\nimport { submitResponse } from '../utils/responseHelper'\nimport { PitchChart } from '../elements/AudioCharts';\nimport { getResponses } from '../utils/responseHelper';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"row\",\n        minWidth: '100vw',\n        minHeight: '85vh',\n        display:\"flex-box\",\n        elevation: 3,\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    },\n\n    chart: {\n        display: 'flex',\n        justifyContent:\"center\",\n        alignItems:\"center\",\n        direction:\"column\",\n        minHeight:\"40%\",\n        marginBottom: \"1vh\",\n        minWidth:\"35vw\",\n    }\n}));\n\nconst ProductionMatchingTaskTemplate = (props) => {\n    const classes = useStyles();\n    let [processedData, setProcessedData] = useState(null)\n    let [currentTask, setTask] = useState(null)\n    let [isLoading, toggleLoading] = useState(false)\n    let history = useHistory()\n    \n    let handleAudioChange = (data) => {\n        const audio = data\n        const response_id = currentTask.response_id\n\n        const requestData = {\"audio\":audio, \"response_id\":response_id}\n        // let newCanvas = resetCanvas('response-data', 'response-data-container', chartB)\n        processAudioData(requestData).then((response) => { \n            let pitchData = getPitchScatterData(response.data)\n            // setChartB(newPitchChart(newCanvas, pitchData, chartB)) // Destroys chart / resets element\n            setProcessedData(pitchData)\n            toggleLoading(false)});\n        }\n    \n    const nextTask = () => {\n        let request = { 'response_id': currentTask.response_id, 'responseData': processedData }\n        submitResponse(request).then((response) => {\n                    const data = response.data\n                    history.push(`/`)\n              });\n            }\n\n    useEffect(() => {\n        // Update the document title using the browser API (next action... taskType determines the element to show)\n        if (processedData === null) {\n            getResponses().then((data)=>setTask(data.data))\n        } else {\n            console.log(\"Processed data changed:\", processedData)\n            getResponses().then((data)=> { currentTask.task_id !== data.data.task_id ? nextTask(): setTask(data.data)});\n        }},[processedData]);\n\n    return (\n        <div className={classes.content}>\n            <Paper className={classes.paper}>\n                <Grid container className={classes.grid}>\n                    <Grid item>\n                        <Paper id=\"question-data-container\" className={classes.chart}>  \n                        { currentTask ? <PitchChart data={getPitchScatterData(currentTask.taskData.audio)}/> : <CircularProgress />}\n                        </Paper>\n                        <Player url={ currentTask ? currentTask.taskData.files[0].filepath : null}></Player>\n                    </Grid>\n                    <Grid item>\n                        <Paper id=\"response-data-container\" className={classes.chart} >\n                            {isLoading ? <CircularProgress /> : <PitchChart data={processedData}/>}\n                        </Paper>\n                        <Recorder sets={(data) => {handleAudioChange(data); toggleLoading(true);} }/>\n                    </Grid>\n                    <Grid item>\n                        <Button variant=\"outlined\" onClick={() => {nextTask();}}>Welcome</Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(ProductionMatchingTaskTemplate)\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { CircularProgress } from '@mui/material';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport Recorder from '../elements/Recorder'\nimport Player from '../elements/Player';\nimport { processAudioData, getPitchScatterData } from '../utils/processAudio.js'\nimport { submitResponse } from '../utils/responseHelper'\nimport { PitchChart } from '../elements/AudioCharts';\nimport { getResponses } from '../utils/responseHelper';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"row\",\n        minWidth: '100vw',\n        minHeight: '85vh',\n        display:\"flex-box\",\n        elevation: 3,\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    },\n\n    chart: {\n        display: 'flex',\n        justifyContent:\"center\",\n        alignItems:\"center\",\n        direction:\"column\",\n        minHeight:\"40%\",\n        marginBottom: \"1vh\",\n        minWidth:\"35vw\",\n    }\n}));\n\nconst ProductionReadingTaskTemplate = (props) => {\n    const classes = useStyles();\n    let [processedData, setProcessedData] = useState(null)\n    let [currentTask, setTask] = useState(null)\n    let [isLoading, toggleLoading] = useState(false)\n    let history = useHistory()\n    \n    let handleAudioChange = (data) => {\n        const audio = data\n        const response_id = currentTask.response_id\n\n        const requestData = {\"audio\":audio, \"response_id\":response_id}\n        // let newCanvas = resetCanvas('response-data', 'response-data-container', chartB)\n        processAudioData(requestData).then((response) => { \n            let pitchData = getPitchScatterData(response.data)\n            // setChartB(newPitchChart(newCanvas, pitchData, chartB)) // Destroys chart / resets element\n            setProcessedData(pitchData)\n            toggleLoading(false)\n         });\n    }\n    \n    const nextTask = () => {\n        let request = { 'response_id': currentTask.response_id, 'responseData': processedData }\n        submitResponse(request).then((response) => {\n                    const data = response.data\n                    console.log(data)\n                    history.push(`/`)\n              })\n            }\n\n    useEffect(() => {\n        // Update the document title using the browser API (next action... taskType determines the element to show)\n        if (processedData === null) {\n            getResponses().then((data)=>setTask(data.data))\n        } else {\n            console.log(\"Processed data changed:\", processedData)\n            getResponses().then((data)=> { currentTask.task_id !== data.data.task_id ? nextTask(): setTask(data.data)});\n        }},[processedData]);\n\n    return (\n        <div className={classes.content}>\n            <Paper className={classes.paper}>\n                <Grid container className={classes.grid}>\n                    <Grid item>\n                        \n                    </Grid>\n                        <Grid item>\n                            <Paper id=\"response-data-container\" className={classes.chart} >\n                                {isLoading ? <CircularProgress /> : <PitchChart data={processedData}/>}\n                            </Paper>\n                            <Recorder sets={(data) => {handleAudioChange(data); toggleLoading(true);} }/>\n                        </Grid>\n                    <Grid item>\n                        <Button size=\"Large\"variant=\"outlined\" onClick={() => {nextTask();}}>Welcome</Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(ProductionReadingTaskTemplate)\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport Player from '../elements/Player';\nimport Button from '@material-ui/core/Button'\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport Alert from '@mui/material/Alert';\nimport IconButton from '@mui/material/IconButton';\nimport Collapse from '@mui/material/Collapse';\nimport { getResponses, submitResponse } from '../utils/responseHelper';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport Icon from '@mui/material/Icon'\n\nconst useStyles = makeStyles((theme) => ({\n    content: { \n      justifyContent: \"center\",\n      display: \"flex\"\n    },\n      paper: {\n        padding: theme.spacing(2),\n        justifyContent: 'center',\n        minWidth: '100vw',\n        height: '85vh',\n        maxHeight: '800',\n        display:\"flex\",\n        elevation: 3,\n        position: 'relative'\n        \n      },\n  }));\n\n  \naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n  \n\nexport const PerceptionIdentificationTonesTemplate = () => {\n    const [correct, showCorrect] = useState(false);\n    const [incorrect, showIncorrect] = useState(false);\n    const [trial, setTrial] = useState(null);\n    const sentenceData = [\"id\",\"filepath\",\"intonation\"]\n    const history = useHistory()\n\n    const classes = useStyles();\n\n    const getResponse = () => {\n        showCorrect(false)\n        showIncorrect(false)\n        getResponses(sentenceData).then((response) => {\n            const data = response.data\n            setTrial(data)});\n    }\n\n    const evaluateTone = (e) => {\n        let target = e.currentTarget.value\n        if (target === trial.target) {\n            showCorrect(true)\n            console.log(target)\n            let request = { eval: 1, response: target, response_id: trial.response_id }\n            submitResponse(request)\n            return\n        }\n        showIncorrect(true)\n        let request = { eval: 0, response: target, response_id: trial.response_id }\n        submitResponse(request)\n    }\n\n    const nextTrial = () => {\n        let request = [\"id\"]\n        getResponses(request).then((response) => {\n                    const data = response.data\n                    console.log(data)\n                    if (data.task_id != trial.task_id) {\n                        console.log(\"Task completed. Moving to next task\")\n                        history.push(`/${data.type}`)\n                    }\n                    if (data.trial_id != trial.trial_id) {\n                        console.log(\"Trial completed. Moving to next trial\")\n                        getResponse();\n                    } else {\n                        setTrial(data)\n                    };\n                });\n            };\n\n\n    useEffect( () => {\n        getResponses(sentenceData).then((response) => {\n            const data = response.data\n            setTrial(data)});\n    },[]);\n\n    return (\n        <div>\n        <Paper className={classes.paper}>\n        <Stack direction=\"row\" justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={5}>\n                <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\n                   {trial ? \"TRIAL \" + trial.trial_id + \" : \" + trial.response_id : \"Loading\" }\n                </Typography> \n            </Stack>\n            <Stack direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={5}>\n                <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\n                      {trial ? trial.text.instructions_short : \"Loading...\"} \n                  </Typography>\n                <Player url={trial ? trial.sentence.filepath : null}/>\n                <Box style={{width: \"100%\"}}>\n                    <Collapse in={correct}>\n                        <Alert\n                        action={\n                            <IconButton\n                            aria-label=\"close\"\n                            color=\"inherit\"\n                            size=\"small\"\n                            >\n                            </IconButton>\n                        }\n                        sx={{ mb: 2 }}\n                        >\n                        Well done! Click next to continue.\n                        </Alert>\n                    </Collapse>\n                    <Collapse in={incorrect}>\n                        <Alert\n                        action={\n                            <IconButton aria-label=\"close\" color=\"error\" size=\"small\" onClick={() => { getResponse()}}>\n                                <Icon>close</Icon>\n                            </IconButton>\n                            }\n                        severity=\"error\"\n                        sx={{ mb: 2 }}\n                        >\n                        Try again! Remember to listen to the tone choice at the <u>end</u> of the word.\n                        </Alert>\n                    </Collapse>\n                </Box>\n                <Stack direction=\"row\" spacing={18} xs={12}>\n                    <Button variant=\"outlined\" size=\"large\" onClick={(e)=> evaluateTone(e)} value=\"rising\" disabled={correct || incorrect}>\n                        Rising\n                    </Button>\n                    <Button variant=\"outlined\" size=\"large\" onClick={(e)=> evaluateTone(e)} value=\"level\" disabled={correct || incorrect}>\n                        Level\n                    </Button>\n                    <Button variant=\"outlined\" size=\"large\" onClick={(e)=> evaluateTone(e)} value=\"falling\" disabled={correct || incorrect}>\n                        Falling\n                    </Button>\n                </Stack>\n            </Stack>\n            <Button size=\"large\"variant=\"contained\" style={{alignSelf:\"flex-end\"}} onClick={() =>{nextTrial()}}  disabled={!correct}>Next</Button>\n        </Paper>\n        </div>\n    )\n}\nexport default withRouter(PerceptionIdentificationTonesTemplate);","import React, { useState, useReducer, useEffect } from 'react';\nimport Paper from '@mui/material/Paper';\nimport Stack from '@mui/material/Stack';\nimport { styled } from '@mui/material/styles';\nimport { WorkRounded } from '@material-ui/icons';\nimport { SliderTrack } from '@mui/material';\nimport Icon from '@mui/material/Icon';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@mui/material/TextField';\nimport { v4 } from 'uuid'\nimport IconButton from '@mui/material/IconButton';\n\nconst t = {list: []}\n\nconst Item = styled(Paper)(({ theme }) => ({\n    ...theme.typography.body2,\n    padding: theme.spacing(1),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    }));\n\n\nexport const WordList = ({callback, wordList, setWordList, correct, incorrect}) => {\n    \n    const [word, setWord] = useState('')\n\n    const handleInput = (e) => {\n        setWord(e.target.value)\n    }\n\n    function handleAdd() {\n        const newList = wordList.concat({ value: word.toLowerCase(), id: v4() })\n        setWordList(newList)\n        setWord('');\n    }\n\n    function handleRemove(id) {\n        const newList = wordList.filter((item) => item.id !== id)\n        setWordList(newList)\n    }\n\n\n\n\n    return (\n        <Stack direction=\"column\" spacing={1}>\n            \n            <Stack direction=\"row\" spacing={6} xs={12}>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"code\"\n                    label=\"Enter Word\"\n                    variant=\"outlined\"\n                    value={word}\n                    onChange={handleInput}\n                    />\n                <Button onClick={ handleAdd } value={word} disabled={correct || incorrect}> Add </Button>\n                <Button onClick={ () => { callback(wordList) } } disabled={correct || incorrect}> Submit</Button>\n            </Stack>\n            <Stack direction=\"row\" spacing={2}>\n                    { wordList.map((item) => { return (\n                        <Item key={item.id}> \n                        {item.value}\n                        <IconButton aria-label=\"close\" color=\"info\" size=\"small\" onClick={() => handleRemove(item.id)}>\n                            <Icon>close</Icon>\n                        </IconButton>\n                    </Item>\n                    )})}\n                </Stack>\n        </Stack>\n       \n    );\n    }\n\nexport default WordList;","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { makeStyles } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Fade from '@material-ui/core/Fade';\nimport Typography from '@material-ui/core/Typography';\nimport Player from '../elements/Player';\nimport Button from '@material-ui/core/Button'\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport Alert from '@mui/material/Alert';\nimport IconButton from '@mui/material/IconButton';\nimport Collapse from '@mui/material/Collapse';\nimport { getResponses, submitResponse } from '../utils/responseHelper';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport WordList from '../elements/WordList';\nimport Icon from '@mui/material/Icon'\n\nconst useStyles = makeStyles((theme) => ({\n    content: { \n      justifyContent: \"center\",\n      display: \"flex\"\n    },\n      paper: {\n        padding: theme.spacing(2),\n        \n        minWidth: '100vw',\n        height: '85vh',\n        maxHeight: '800',\n        display:\"flex\",\n        elevation: 3,\n        position: 'relative',\n        justifyContent: 'center'\n        \n      },\n  }));\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n  \nconst PerceptionIdentificationProminenceTemplate = () => {\n    const [correct, showCorrect] = useState(false);\n    const [incorrect, showIncorrect] = useState(false);\n    const [trial, setTrial] = useState(null);\n    const sentenceData = [\"id\",\"filepath\",\"prominent_words\"]\n    const history = useHistory()\n    const [words, setWords] = useState([])\n\n    const classes = useStyles();\n\n    const getResponse = () => {\n        showCorrect(false)\n        showIncorrect(false)\n        getResponses(sentenceData).then((response) => {\n            const data = response.data\n            setTrial(data)});\n    }\n\n    const evaluate = () => {\n        const target = new Set\n        words.forEach((e) => target.add(e.value))\n        let trial_target = new Set (trial.sentence.prominent_words.split(','))\n\n        let a = new Set([...trial_target].filter(x => !target.has(x)));\n        let b = new Set([...target].filter(x => !trial_target.has(x)));\n        console.log(a.size && b.size)\n        if (!a.size && !b.size) {\n            showCorrect(true)\n            console.log(target)\n            let request = { eval: 1, response: target, response_id: trial.response_id }\n            submitResponse(request)\n            setWords([])\n            return\n        }\n\n        showIncorrect(true)\n        let request = { eval: 0, response: target, response_id: trial.response_id }\n        submitResponse(request)\n        nextTrial();\n    }\n\n    const nextTrial = () => {\n        let request = [\"id\"]\n        getResponses(request).then((response) => {\n                    const data = response.data\n                    console.log(data)\n                    if (data.task_id != trial.task_id) {\n                        console.log(\"Task completed. Moving to next task\")\n                        history.push(`/${data.type}`)\n                    }\n                    if (data.trial_id != trial.trial_id) {\n                        console.log(\"Trial completed. Moving to next trial\")\n                        getResponse()\n                    }\n\n                    else {\n                        setTrial(data)\n                    }\n              })\n            }\n\n\n    useEffect( () => {\n        getResponses(sentenceData).then((response) => {\n            const data = response.data\n            setTrial(data)});\n    },[]);\n///Change\n    return (\n        <div>\n        <Paper className={classes.paper}>\n        <Stack direction=\"row\" justifyContent=\"flex-start\" alignItems=\"flex-start\" spacing={5}>\n                <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\n                   {trial ? \"TRIAL \" + trial.trial_id + \" : \" + trial.response_id : \"Loading\" }\n                </Typography> \n            </Stack>\n            <Stack direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={5}>\n                <Typography variant=\"subtitle1\" component=\"h2\" gutterBottom>\n                      {trial ? trial.text.instructions_short : \"Loading...\"} \n                  </Typography>\n                <Player url={trial ? trial.sentence.filepath : null}/>\n                <Box style={{width: \"100%\"}}>\n                    <Collapse in={correct}>\n                        <Alert\n                        action={\n                            <IconButton\n                            aria-label=\"close\"\n                            color=\"inherit\"\n                            size=\"small\"\n                            >\n                            </IconButton>\n                        }\n                        sx={{ mb: 2 }}\n                        >\n                        Well done! Click next to continue.\n                        </Alert>\n                    </Collapse>\n                    <Collapse in={incorrect}>\n                        <Alert\n                        action={\n                            <IconButton aria-label=\"close\" color=\"error\" size=\"small\" onClick={() => { getResponse()}}>\n                                <Icon>close</Icon>\n                            </IconButton>\n                            }\n                        severity=\"error\"\n                        sx={{ mb: 2 }}\n                        >\n                        Try again! Remember to listen to the tone choice at the <u>end</u> of the word.\n                        </Alert>\n                    </Collapse>\n                </Box>\n                <Stack direction=\"row\" spacing={18} xs={12}>\n                    <WordList callback={evaluate} wordList={words} setWordList={setWords} correct={correct} incorrect={incorrect}/>\n                </Stack>\n            </Stack>\n            <Button size=\"large\"variant=\"contained\" style={{alignSelf:\"flex-end\"}} onClick={() =>{nextTrial()}}  disabled={!correct}>Next</Button>\n        </Paper>\n        </div>\n    )\n}\nexport default withRouter(PerceptionIdentificationProminenceTemplate);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {withRouter, NavLink} from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n      padding: theme.spacing(2),\n      flexDirection: \"column\",\n      minWidth: '100vw',\n      minHeight: '80vh',\n      display:\"flex\",\n      elevation: 3,\n      justifyContent:\"center\",\n      alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"center\",\n        spacing:\"0\",\n        alignItems:\"center\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    }\n}));\n\n\nconst End = (props) => {\n\n  const CreateTrial = (props) => {\n\n    // When the user selects Enter, experiement begins. \n    // 1. Trial is created\n    // 2. Responses are intialized\n    \n  }\n  \n  // Entry point: \n    const classes = useStyles();\n  \n    return (\n      <div className={classes.content}>\n        <Paper className={classes.paper}>\n            <Grid container className={classes.grid}>\n                <Typography variant=\"h1\" component=\"h2\" gutterBottom>\n                    Welcome\n                </Typography>\n            </Grid>\n            <Container className={classes.container}>\n              <NavLink className={classes.button} to='/production-task' style={{ textDecoration: 'none' }} key= ''>\n                <Button variant=\"outlined\">Enter</Button>\n              </NavLink>\n            </Container>\n        </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(End);\n\n","import React, { useState, useEffect } from 'react'\nimport Welcome from './components/pages/Welcome'\nimport PerceptionTaskTemplate from './components/pages/PerceptionTask'\nimport ProductionMatchingTaskTemplate from './components/pages/ProductionMatchingTask'\nimport ProductionReadingTaskTemplate from './components/pages/ProductionReadingTask'\nimport PerceptionIdentificationTonesTemplate from './components/pages/PerceptionIdentificationTonesTemplate'\nimport PerceptionIdentificationProminenceTemplate from './components/pages/PerceptionIdentificationProminenceTemplate'\nimport End from './components/pages/End'\nimport { MemoryRouter } from \"react-router-dom\"\nimport { Route, Switch } from 'react-router-dom'\n\nexport default function App() {\n\n    return (\n      <div className=\"App\">\n        <MemoryRouter>\n          <Switch>\n            <Route exact path=\"/\" component={Welcome} />\n            <Route exact path=\"/perception-identification-tones\" component={PerceptionIdentificationTonesTemplate} />\n            <Route exact path=\"/perception-identification-prominence\" component={PerceptionIdentificationProminenceTemplate} />\n            <Route path=\"/production-matching\" component={ProductionMatchingTaskTemplate} />\n            <Route path=\"/production-reading\" component={ProductionReadingTaskTemplate} />\n            <Route path=\"/perception-task\" component={PerceptionTaskTemplate} />\n            <Route exact path=\"/done\" component={End} />\n          </Switch>\n        </MemoryRouter>\n      </div>\n    );\n  }\n  ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}