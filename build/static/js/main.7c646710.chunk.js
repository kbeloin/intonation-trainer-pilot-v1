(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(19),a=n.n(i),r=(n(61),n(106)),s=n(109),o=n(108),l=n(112),u=n(110),d=n(21),j=n(4),f=n(111),b=n(2),p=Object(r.a)((function(e){return{content:{justifyContent:"center",display:"flex"},paper:{padding:e.spacing(2),flexDirection:"column",minWidth:"100vw",minHeight:"80vh",display:"flex",elevation:3,justifyContent:"center",alignItems:"center"},container:{position:"relative",height:"100%",justifyContent:"center"},button:{position:"absolute",bottom:"0",right:"0"},grid:{height:"50%",justifyContent:"center",spacing:"0",alignItems:"center",direction:"column",minHeight:"100%"}}})),h=Object(j.g)((function(e){var t=p();return Object(b.jsx)("div",{className:t.content,children:Object(b.jsxs)(o.a,{className:t.paper,children:[Object(b.jsx)(s.a,{container:!0,className:t.grid,children:Object(b.jsx)(u.a,{variant:"h1",component:"h2",gutterBottom:!0,children:"Welcome"})}),Object(b.jsx)(f.a,{className:t.container,children:Object(b.jsx)(d.a,{className:t.button,to:"/2",style:{textDecoration:"none"},children:Object(b.jsx)(l.a,{variant:"outlined",children:"Enter"})},"")})]})})})),O=n(17),m=n(32),g=n.n(m),v=n(47),x={audioBitsPerSecond:16e3};function y(){return(y=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:return t=e.sent,e.abrupt("return",new MediaRecorder(t,x));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!1),r=Object(O.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(null),u=Object(O.a)(l,2),d=u[0],j=u[1],f=Object(c.useState)(null),b=Object(O.a)(f,2),p=b[0],h=b[1];Object(c.useEffect)((function(){if(null!==d){s?d.start():d.stop();var e=function(e){var t=new Blob([e.data]),n=new FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){var t=new Int8Array(n.result);h(t),i(URL.createObjectURL(e.data))}};return d.addEventListener("dataavailable",e),function(){return d.removeEventListener("dataavailable",e)}}s&&function(){return y.apply(this,arguments)}().then(j,console.error)}),[d,s]);return[n,s,function(){o(!0)},function(){o(!1)},p]},N=n(27),w=n.n(N);w.a.defaults.xsrfCookieName="csrftoken",w.a.defaults.xsrfHeaderName="X-CSRFToken";var R=Object(r.a)((function(e){return{content:{justifyContent:"center",display:"flex"},paper:{padding:e.spacing(2),flexDirection:"column",minWidth:"100vw",minHeight:"80vh",display:"flex",elevation:3,justifyContent:"center",alignItems:"center"},container:{position:"relative",height:"100%",justifyContent:"center"},grid:{display:"flex",justifyContent:"space-evenly",spacing:"2"}}})),S=function(e){var t=C(),n=Object(O.a)(t,5),i=n[0],a=n[1],r=n[2],o=n[3],u=n[4],d=Object(c.useRef)(),j=R(),f=d.current;f&&f.addEventListener("canplaythrough",(function(t){u&&e.sets(u)}));return Object(b.jsx)("div",{className:"Recorder",id:"recorder",ref:e.forwardedRef,children:Object(b.jsxs)(s.a,{contaimer:!0,className:j.grid,children:[Object(b.jsx)(l.a,{onClick:r,disabled:a,children:"start recording"}),Object(b.jsx)(l.a,{onClick:o,disabled:!a,children:"stop recording"}),Object(b.jsx)("audio",{src:i,ref:d,controls:!0})]})})};function k(){return Object(b.jsx)("div",{className:"Player",children:Object(b.jsx)("audio",{controls:!0,src:"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3"})})}var H=Object(r.a)((function(e){return{content:{justifyContent:"center",display:"flex"},paper:{padding:e.spacing(2),flexDirection:"column",minWidth:"100vw",minHeight:"80vh",display:"flex",elevation:3,alignItems:"center"},container:{position:"relative",height:"100%",justifyContent:"center"},button:{position:"absolute",bottom:"0",right:"0"},grid:{height:"50%",justifyContent:"space-evenly",spacing:"0",alignItems:"flex-end",direction:"column",minHeight:"100%"}}})),L=function(){try{return document.cookie.split("; ").find((function(e){return e.startsWith("csrftoken=")})).split("=")[1]}catch(e){console.log(e)}},E=Object(j.g)((function(e){var t=Object(c.useState)(),n=Object(O.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(),u=Object(O.a)(r,2),d=u[0],j=u[1],p=H(),h=Object(c.useRef)(null);return Object(c.useEffect)((function(){void 0===i?console.log("None"):function(e){var t=new XMLHttpRequest;t.open("POST","/api/process/",!0),t.setRequestHeader("X-CSRFToken",L()),t.setRequestHeader("Content-Type","application/octet-stream"),t.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&this.status},t.send(JSON.stringify(e))}(i)}),[i]),Object(b.jsx)("div",{className:p.content,children:Object(b.jsx)(o.a,{className:p.paper,children:Object(b.jsx)(f.a,{className:p.container,children:Object(b.jsxs)(s.a,{container:!0,className:p.grid,children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(k,{})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(S,{forwardedRef:h,sets:j})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(l.a,{variant:"outlined",onClick:function(){console.log(d),a(d)},children:"Welcome"})})]})})})})}));function I(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(j.a,{children:Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{exact:!0,path:"/",component:h}),Object(b.jsx)(j.b,{path:"/2",component:E})]})})})}var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};a.a.render(Object(b.jsx)(I,{}),document.getElementById("root")),D()}},[[91,1,2]]]);
//# sourceMappingURL=main.7c646710.chunk.js.map