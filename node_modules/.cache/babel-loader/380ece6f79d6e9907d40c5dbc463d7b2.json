{"ast":null,"code":"var _jsxFileName = \"/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Recorder.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { render } from \"react-dom\";\nimport useRecorder from \"./useRecorder\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\nconst handleChange = d => {\n  if (d === data) {\n    console.log(d);\n    return;\n  }\n\n  setData(d);\n};\n\nconst Recorder = props => {\n  _s();\n\n  let [audioURL, isRecording, startRecording, stopRecording] = useRecorder();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    // Update the document title using the browser API\n    if (data) {\n      axios // Because of proxy in package.json, command be shorten as follows:\n      // .post(\"http://localhost:8000/api/todos/\", item)\n      .post(\"/api/process/\", data).then(res => console.log(res));\n      return;\n    }\n\n    return 'No reponse';\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Recorder\",\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      src: audioURL,\n      controls: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startRecording,\n      disabled: isRecording,\n      children: \"start recording\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stopRecording,\n      disabled: !isRecording,\n      children: \"stop recording\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleChange(audioURL),\n      disabled: false,\n      children: \"send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Recorder, \"9zebywHG4qDSX1YrXS76bOx1ApQ=\", false, function () {\n  return [useRecorder];\n});\n\n_c = Recorder;\nexport default Recorder;\n\nvar _c;\n\n$RefreshReg$(_c, \"Recorder\");","map":{"version":3,"sources":["/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Recorder.js"],"names":["useState","useEffect","render","useRecorder","axios","defaults","xsrfCookieName","xsrfHeaderName","handleChange","d","data","console","log","setData","Recorder","props","audioURL","isRecording","startRecording","stopRecording","post","then","res"],"mappings":";;;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAqC,OAArC;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEAA,KAAK,CAACC,QAAN,CAAeC,cAAf,GAAgC,WAAhC;AACAF,KAAK,CAACC,QAAN,CAAeE,cAAf,GAAgC,aAAhC;;AACA,MAAMC,YAAY,GAAIC,CAAD,IAAO;AAE1B,MAAIA,CAAC,KAAKC,IAAV,EAAgB;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACA;AACD;;AACDI,EAAAA,OAAO,CAACJ,CAAD,CAAP;AACD,CAPD;;AASA,MAAMK,QAAQ,GAAIC,KAAD,IAAW;AAAA;;AAC1B,MAAI,CAACC,QAAD,EAAWC,WAAX,EAAwBC,cAAxB,EAAwCC,aAAxC,IAAyDhB,WAAW,EAAxE;AACA,QAAM,CAACO,IAAD,EAAOG,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAIS,IAAJ,EAAU;AACRN,MAAAA,KAAK,CACL;AACA;AAFK,OAGJgB,IAHD,CAGM,eAHN,EAGuBV,IAHvB,EAICW,IAJD,CAIMC,GAAG,IAAIX,OAAO,CAACC,GAAR,CAAYU,GAAZ,CAJb;AAKA;AACD;;AACD,WAAO,YAAP;AACD,GAXQ,CAAT;AAeA,sBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACE;AAAO,MAAA,GAAG,EAAEN,QAAZ;AAAsB,MAAA,QAAQ;AAA9B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAQ,MAAA,OAAO,EAAEE,cAAjB;AAAiC,MAAA,QAAQ,EAAED,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAKE;AAAQ,MAAA,OAAO,EAAEE,aAAjB;AAAgC,MAAA,QAAQ,EAAE,CAACF,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,eAQE;AAAQ,MAAA,OAAO,EAAET,YAAY,CAACQ,QAAD,CAA7B;AAAyC,MAAA,QAAQ,EAAE,KAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD,CAjCD;;GAAMF,Q;UACyDX,W;;;KADzDW,Q;AAkCN,eAAeA,QAAf","sourcesContent":["\nimport { useState, useEffect } from  'react'\nimport { render } from \"react-dom\";\nimport useRecorder from \"./useRecorder\";\nimport axios from \"axios\";\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\nconst handleChange = (d) => {\n  \n  if (d === data) {\n    console.log(d)\n    return\n  }\n  setData(d)\n}\n\nconst Recorder = (props) => {\n  let [audioURL, isRecording, startRecording, stopRecording] = useRecorder();\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    if (data) {\n      axios\n      // Because of proxy in package.json, command be shorten as follows:\n      // .post(\"http://localhost:8000/api/todos/\", item)\n      .post(\"/api/process/\", data)\n      .then(res => console.log(res));\n      return;\n    }\n    return 'No reponse';\n  });\n\n  \n\n  return (\n    <div className=\"Recorder\">\n      <audio src={audioURL} controls/>\n      <button onClick={startRecording} disabled={isRecording}>\n        start recording\n      </button>\n      <button onClick={stopRecording} disabled={!isRecording}>\n        stop recording\n      </button>\n      <button onClick={handleChange(audioURL)} disabled={false}>\n        send\n      </button>\n    </div>\n  );\n}\nexport default Recorder;"]},"metadata":{},"sourceType":"module"}