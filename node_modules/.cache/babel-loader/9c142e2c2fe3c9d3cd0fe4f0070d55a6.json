{"ast":null,"code":"var _jsxFileName = \"/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/SoundChart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Chart, registerables } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\n\nconst skipped = (ctx, value) => ctx.p0.skip || ctx.p1.skip ? value : undefined;\n\nconst down = (ctx, value) => ctx.p0.parsed.y > ctx.p1.parsed.y ? value : undefined;\n\nexport const getPitchScatterData = processedData => {\n  let data = processedData['x_y'] || [];\n\n  for (let i = 0; i < data.length; i++) {\n    if (data[i]['x'] === 0) {\n      data[i]['x'] = NaN;\n    }\n\n    if (data[i]['y'] === 0) {\n      data[i]['y'] = NaN;\n    }\n  }\n\n  return data;\n};\nexport const PitchChart = props => {\n  _s();\n\n  let chartRef = useRef();\n  useEffect(() => {\n    let ctx = chartRef.current.getContext('2d');\n    let myChart = new Chart(ctx, {\n      type: 'scatter',\n      data: {\n        datasets: [{\n          label: 'Pitch Frequency',\n          data: props.data,\n          borderWidth: 1,\n          backgroundColor: 'rgb(255, 99, 132)'\n        }]\n      },\n      options: {\n        scales: {\n          y: {},\n          x: {}\n        }\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    id: \"question-data\",\n    ref: chartRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PitchChart, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n\n_c = PitchChart;\nexport const updateChart = (chart, data) => {\n  const processedData = getPitchScatterData(data);\n  chart.data.datasets.data = data;\n  chart.update();\n};\nexport default PitchChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"PitchChart\");","map":{"version":3,"sources":["/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/SoundChart.js"],"names":["React","useState","useEffect","useRef","Chart","registerables","register","skipped","ctx","value","p0","skip","p1","undefined","down","parsed","y","getPitchScatterData","processedData","data","i","length","NaN","PitchChart","props","chartRef","current","getContext","myChart","type","datasets","label","borderWidth","backgroundColor","options","scales","x","updateChart","chart","update"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,KAAT,EAAgBC,aAAhB,QAAqC,UAArC;;AAEAD,KAAK,CAACE,QAAN,CAAe,GAAGD,aAAlB;;AAEA,MAAME,OAAO,GAAG,CAACC,GAAD,EAAMC,KAAN,KAAgBD,GAAG,CAACE,EAAJ,CAAOC,IAAP,IAAeH,GAAG,CAACI,EAAJ,CAAOD,IAAtB,GAA6BF,KAA7B,GAAqCI,SAArE;;AACA,MAAMC,IAAI,GAAG,CAACN,GAAD,EAAMC,KAAN,KAAgBD,GAAG,CAACE,EAAJ,CAAOK,MAAP,CAAcC,CAAd,GAAkBR,GAAG,CAACI,EAAJ,CAAOG,MAAP,CAAcC,CAAhC,GAAoCP,KAApC,GAA4CI,SAAzE;;AAEA,OAAO,MAAMI,mBAAmB,GAAIC,aAAD,IAAmB;AAElD,MAAIC,IAAI,GAAGD,aAAa,CAAC,KAAD,CAAb,IAAwB,EAAnC;;AACA,OAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,QAAID,IAAI,CAACC,CAAD,CAAJ,CAAQ,GAAR,MAAiB,CAArB,EAAwB;AACpBD,MAAAA,IAAI,CAACC,CAAD,CAAJ,CAAQ,GAAR,IAAeE,GAAf;AACH;;AACD,QAAIH,IAAI,CAACC,CAAD,CAAJ,CAAQ,GAAR,MAAiB,CAArB,EAAwB;AACpBD,MAAAA,IAAI,CAACC,CAAD,CAAJ,CAAQ,GAAR,IAAeE,GAAf;AACH;AACF;;AAEH,SAAOH,IAAP;AACH,CAbM;AAeP,OAAO,MAAMI,UAAU,GAAKC,KAAF,IAAa;AAAA;;AACnC,MAAIC,QAAQ,GAAGtB,MAAM,EAArB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIM,GAAG,GAAGiB,QAAQ,CAACC,OAAT,CAAiBC,UAAjB,CAA4B,IAA5B,CAAV;AAEA,QAAIC,OAAO,GAAG,IAAIxB,KAAJ,CAAUI,GAAV,EAAe;AACzBqB,MAAAA,IAAI,EAAE,SADmB;AAEzBV,MAAAA,IAAI,EAAE;AACFW,QAAAA,QAAQ,EAAE,CAAC;AACPC,UAAAA,KAAK,EAAE,iBADA;AAEPZ,UAAAA,IAAI,EAAEK,KAAK,CAACL,IAFL;AAGPa,UAAAA,WAAW,EAAE,CAHN;AAIPC,UAAAA,eAAe,EAAE;AAJV,SAAD;AADR,OAFmB;AAUrBC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AACJnB,UAAAA,CAAC,EAAE,EADC;AAEJoB,UAAAA,CAAC,EAAE;AAFC;AADH;AAVY,KAAf,CAAd;AAiBC,GApBI,EAoBH,EApBG,CAAT;AAsBA,sBACI;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,GAAG,EAAEX;AAAhC;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH,CA5BM;;GAAMF,U;;KAAAA,U;AA8Bb,OAAO,MAAMc,WAAW,GAAG,CAACC,KAAD,EAAQnB,IAAR,KAAiB;AACxC,QAAMD,aAAa,GAAGD,mBAAmB,CAACE,IAAD,CAAzC;AACAmB,EAAAA,KAAK,CAACnB,IAAN,CAAWW,QAAX,CAAoBX,IAApB,GAA2BA,IAA3B;AACAmB,EAAAA,KAAK,CAACC,MAAN;AACH,CAJM;AAMP,eAAehB,UAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Chart, registerables } from 'chart.js'\n\nChart.register(...registerables);\n\nconst skipped = (ctx, value) => ctx.p0.skip || ctx.p1.skip ? value : undefined;\nconst down = (ctx, value) => ctx.p0.parsed.y > ctx.p1.parsed.y ? value : undefined;\n\nexport const getPitchScatterData = (processedData) => {\n    \n    let data = processedData['x_y'] || []\n    for (let i = 0; i < data.length; i++) {\n        if (data[i]['x'] === 0) {\n            data[i]['x'] = NaN;\n        }\n        if (data[i]['y'] === 0) {\n            data[i]['y'] = NaN;\n        }\n      }\n\n    return data\n}\n\nexport const PitchChart = ( props ) => {\n    let chartRef = useRef()\n    \n    useEffect(() => {\n        let ctx = chartRef.current.getContext('2d')\n\n        let myChart = new Chart(ctx, {\n            type: 'scatter',\n            data: {\n                datasets: [{\n                    label: 'Pitch Frequency',\n                    data: props.data,\n                    borderWidth: 1,\n                    backgroundColor: 'rgb(255, 99, 132)'\n                    }]\n                },\n                options: {\n                    scales: {\n                        y: { },\n                        x: { }\n                    }\n                }\n            });\n        },[])\n\n    return (\n        <canvas id=\"question-data\" ref={chartRef}></canvas>\n    )\n}\n\nexport const updateChart = (chart, data) => {\n    const processedData = getPitchScatterData(data)\n    chart.data.datasets.data = data\n    chart.update()\n}\n\nexport default PitchChart\n"]},"metadata":{},"sourceType":"module"}