{"ast":null,"code":"import _slicedToArray from\"/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{makeStyles}from'@material-ui/core/styles';import Grid from'@material-ui/core/Grid';import Paper from'@material-ui/core/Paper';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import{withRouter,NavLink}from'react-router-dom';import Recorder from'./Recorder.js';import Player from'./Player.js';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:theme.spacing(2),flexDirection:\"column\",minWidth:'100vw',minHeight:'80vh',display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:'relative',height:'100%',justifyContent:\"center\"},button:{position:'absolute',bottom:'0',right:'0'},grid:{height:\"50%\",justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"100%\"}};});var ProdTask=function ProdTask(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),src=_useState2[0],setCurrentSrc=_useState2[1];var classes=useStyles();var childRef=useRef(null);var handleChange=function handleChange(){var audio=childRef.current;// document.getElementById(\"recorder\").currentSrc\nsetCurrentSrc(audio.firstChild.currentSrc);// console.log(src)\n};var submitData=function submitData(d){if(d){console.log(d);axios// Because of proxy in package.json, command be shorten as follows:\n// .post(\"http://localhost:8000/api/todos/\", item)\n.post(\"/api/process/\",d).then(function(res){return console.log(res);});return;}console.log(d);};useEffect(function(){// Update the document title using the browser API\ndocument.title=\"\".concat(src);console.log(\"\".concat(src));src===undefined?console.log(\"None\"):axios// Because of proxy in package.json, command be shorten as follows:\n// .post(\"http://localhost:8000/api/todos/\", item)\n.post(\"/api/process/\",src).then(function(res){return console.log(res);});return;});return/*#__PURE__*/_jsx(\"div\",{className:classes.content,children:/*#__PURE__*/_jsx(Paper,{className:classes.paper,children:/*#__PURE__*/_jsxs(Container,{className:classes.container,children:[/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.grid,children:[/*#__PURE__*/_jsx(Player,{}),/*#__PURE__*/_jsx(Recorder,{forwardedRef:childRef})]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleChange,children:\"Welcome\"})]})})});};export default withRouter(ProdTask);","map":{"version":3,"sources":["/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/ProductionTask.js"],"names":["React","useState","useEffect","useRef","makeStyles","Grid","Paper","Button","Typography","Container","withRouter","NavLink","Recorder","Player","axios","useStyles","theme","content","justifyContent","display","paper","padding","spacing","flexDirection","minWidth","minHeight","elevation","alignItems","container","position","height","button","bottom","right","grid","direction","ProdTask","props","src","setCurrentSrc","classes","childRef","handleChange","audio","current","firstChild","currentSrc","submitData","d","console","log","post","then","res","document","title","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container'\nimport { withRouter, NavLink } from 'react-router-dom';\nimport Recorder from './Recorder.js'\nimport Player from './Player.js';\nimport axios from \"axios\";\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"column\",\n        minWidth: '100vw',\n        minHeight: '80vh',\n        display:\"flex\",\n        elevation: 3,\n        justifyContent:\"center\",\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    }\n}));\n\nconst ProdTask = (props) => {\n    let [src, setCurrentSrc] = useState()\n\n    const classes = useStyles();\n    const childRef = useRef(null);\n\n    const handleChange = () => {\n        let audio = childRef.current\n        // document.getElementById(\"recorder\").currentSrc\n        setCurrentSrc(audio.firstChild.currentSrc)     // console.log(src)\n    }\n\n    const submitData = (d) => {\n  \n        if (d ) {\n          console.log(d)\n          axios\n            // Because of proxy in package.json, command be shorten as follows:\n            // .post(\"http://localhost:8000/api/todos/\", item)\n            .post(\"/api/process/\", d)\n            .then(res => console.log(res));\n            return;\n        }\n        console.log(d)\n      }\n\n    useEffect(() => {\n        // Update the document title using the browser API\n        document.title = `${src}`;\n        console.log(`${src}`)\n        src === undefined ? console.log(\"None\") : \n        axios\n        // Because of proxy in package.json, command be shorten as follows:\n        // .post(\"http://localhost:8000/api/todos/\", item)\n        .post(\"/api/process/\", src)\n        .then(res => console.log(res));\n        return;\n      });\n    \n    return (\n      <div className={classes.content}>\n        <Paper className={classes.paper}>\n            <Container className={classes.container}>\n                <Grid container className={classes.grid}>\n                    <Player />\n                    <Recorder forwardedRef={childRef}/>\n                    \n                </Grid>\n                    \n                        <Button variant=\"outlined\" onClick={handleChange}>Welcome</Button>\n                    \n            </Container>\n        </Paper>\n        </div>\n        );\n    }\nexport default withRouter(ProdTask)\n"]},"metadata":{},"sourceType":"module"}