{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n(23),r=n.n(c),s=(n(74),n(126)),o=n(129),i=n(128),l=n(133),u=n(130),d=n(28),j=n(8),b=n(131),f=n(2),h=Object(s.a)((function(e){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:e.spacing(2),flexDirection:\"column\",minWidth:\"100vw\",minHeight:\"80vh\",display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:\"relative\",height:\"100%\",justifyContent:\"center\"},button:{position:\"absolute\",bottom:\"0\",right:\"0\"},grid:{height:\"50%\",justifyContent:\"center\",spacing:\"0\",alignItems:\"center\",direction:\"column\",minHeight:\"100%\"}}})),O=Object(j.g)((function(e){var t=h();return Object(f.jsx)(\"div\",{className:t.content,children:Object(f.jsxs)(i.a,{className:t.paper,children:[Object(f.jsx)(o.a,{container:!0,className:t.grid,children:Object(f.jsx)(u.a,{variant:\"h1\",component:\"h2\",gutterBottom:!0,children:\"Welcome\"})}),Object(f.jsx)(b.a,{className:t.container,children:Object(f.jsx)(d.a,{className:t.button,to:\"/2\",style:{textDecoration:\"none\"},children:Object(f.jsx)(l.a,{variant:\"outlined\",children:\"Enter\"})},\"\")})]})})})),p=n(11),m=n(132),x=n(22),g=n.n(x),v=n(33),y={audioBitsPerSecond:16e3};new AudioContext,new FileReader;function N(){return(N=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:return t=e.sent,e.abrupt(\"return\",new MediaRecorder(t,y));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(a.useState)(\"\"),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(p.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(null),u=Object(p.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(null),f=Object(p.a)(b,2),h=f[0],O=f[1];Object(a.useEffect)((function(){if(null!==d){o?d.start():d.stop();var e=function(e){var t=new AudioContext,n=new FileReader;n.readAsArrayBuffer(e.data),n.onloadend=function(){console.log(\"data loaded\"),t.decodeAudioData(n.result).then((function(t){console.log(t);var n=t.getChannelData(0);O(n),c(URL.createObjectURL(e.data))}))}};return d.addEventListener(\"dataavailable\",e),function(){return d.removeEventListener(\"dataavailable\",e)}}o&&function(){return N.apply(this,arguments)}().then(j,console.error)}),[d,o]);return[n,o,function(){i(!0)},function(){i(!1)},h]},w=n(25),R=n.n(w),S=function(e){var t=C(),n=Object(p.a)(t,5),c=n[0],r=n[1],s=n[2],i=n[3],u=n[4];return Object(a.useEffect)((function(){u?e.sets(u):console.log(\"No current audio.\")}),[u]),Object(f.jsx)(\"div\",{className:\"Recorder\",id:\"recorder\",ref:e.forwardedRef,children:Object(f.jsxs)(o.a,{container:!0,children:[Object(f.jsx)(\"audio\",{src:c,controls:!0}),Object(f.jsx)(l.a,{onClick:s,disabled:r,children:\"start\"}),Object(f.jsx)(l.a,{onClick:i,disabled:!r,children:\"stop\"})]})})},k=function(e){return Object(f.jsx)(\"div\",{className:\"Player\",style:{marginRight:\"100px\"},children:Object(f.jsx)(\"audio\",{controls:!0,src:e})})};R.a.defaults.xsrfCookieName=\"csrftoken\",R.a.defaults.xsrfHeaderName=\"X-CSRFToken\";var E=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R()({method:\"post\",url:\"/api/process/\",data:t,headers:{\"Content-Type\":\"application/octet-stream\"},transformRequest:[function(e){return console.log(\"hello from transform\"),JSON.stringify(e)}],transformResponse:[function(e){return console.log(\"hello from response\"),JSON.parse(e)}]});case 2:return n=e.sent,console.log(\"Asychronous response\"),e.abrupt(\"return\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=n(7),A=n(34);A.a.register.apply(A.a,Object(F.a)(A.b));var D=function(e){for(var t=e.x_y||[],n=0;n<t.length;n++)0===t[n].x&&(t[n].x=NaN),0===t[n].y&&(t[n].y=NaN);return t},I=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){var n=t.current.getContext(\"2d\");new A.a(n,{type:\"scatter\",data:{datasets:[{label:\"Pitch Frequency\",data:e.data,borderWidth:1,backgroundColor:\"rgb(255, 99, 132)\"}]},options:{scales:{y:{},x:{}}}})}),[]),Object(f.jsx)(\"canvas\",{id:\"question-data\",ref:t})},B=Object(s.a)((function(e){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:e.spacing(2),flexDirection:\"row\",minWidth:\"100vw\",minHeight:\"80vh\",display:\"flex-box\",elevation:3,alignItems:\"center\"},container:{position:\"relative\",height:\"100%\",justifyContent:\"center\"},button:{position:\"absolute\",bottom:\"0\",right:\"0\"},grid:{height:\"50%\",justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"100%\"},chart:{justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"40%\",marginBottom:\"1vh\",minWidth:\"35vw\"}}})),H=Object(j.g)((function(e){var t=B(),n=Object(a.useState)({}),c=Object(p.a)(n,2),r=c[0],s=c[1],u=Object(a.useState)(!0),d=Object(p.a)(u,2),j=(d[0],d[1],Object(a.useState)(!1)),b=Object(p.a)(j,2),h=b[0],O=b[1],x=Object(a.useState)(),g=Object(p.a)(x,2),v=(g[0],g[1]),y=Object(a.useState)(),N=Object(p.a)(y,2),C=(N[0],N[1]);Object(a.useRef)(null),Object(a.useRef)(null);return Object(a.useEffect)((function(){null===r?console.log(\"No changes recorded\"):console.log(\"Processed data changed:\",r)}),[r]),Object(a.useEffect)((function(){}),[]),Object(f.jsx)(\"div\",{className:t.content,children:Object(f.jsx)(i.a,{className:t.paper,children:Object(f.jsxs)(o.a,{container:!0,className:t.grid,children:[Object(f.jsxs)(o.a,{item:!0,children:[Object(f.jsx)(i.a,{id:\"question-data-container\",className:t.chart,children:Object(f.jsx)(I,{sets:v,data:[]})}),Object(f.jsx)(k,{url:\"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3\"})]}),Object(f.jsxs)(o.a,{item:!0,children:[Object(f.jsx)(i.a,{id:\"response-data-container\",className:t.chart,children:h?Object(f.jsx)(m.a,{}):Object(f.jsx)(I,{sets:C,data:r})}),Object(f.jsx)(S,{sets:function(e){!function(e){console.log(h),E(e).then((function(e){var t=D(e.data);s(t),O(!1)}))}(e),O(!0)}})]}),Object(f.jsx)(o.a,{item:!0,children:Object(f.jsx)(l.a,{variant:\"outlined\",onClick:function(){},children:\"Welcome\"})})]})})})}));function L(){return Object(f.jsx)(\"div\",{className:\"App\",children:Object(f.jsx)(j.a,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:\"/\",component:O}),Object(f.jsx)(j.b,{path:\"/2\",component:H})]})})})}var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(f.jsx)(L,{}),document.getElementById(\"root\")),P()},74:function(e,t,n){}},[[104,1,2]]]);","name":"static/js/main.dd7defd7.chunk.js","map":{"version":3,"sources":["static/js/main.dd7defd7.chunk.js"],"names":["this","push","104","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","makeStyles","Grid","Paper","Button","Typography","react_router_dom","react_router","Container","jsx_runtime","useStyles","Object","theme","content","justifyContent","display","paper","padding","spacing","flexDirection","minWidth","minHeight","elevation","alignItems","container","position","height","button","bottom","right","grid","direction","pages_Welcome","props","classes","className","children","variant","component","gutterBottom","to","style","textDecoration","slicedToArray","CircularProgress","regenerator","regenerator_default","asyncToGenerator","options","audioBitsPerSecond","AudioContext","FileReader","_requestRecorder","a","mark","_callee","stream","wrap","_context","prev","next","navigator","mediaDevices","getUserMedia","audio","sent","abrupt","MediaRecorder","stop","apply","arguments","utils_useRecorder","_useState","_useState2","audioURL","setAudioURL","_useState3","_useState4","isRecording","setIsRecording","_useState5","_useState6","recorder","setRecorder","_useState7","_useState8","rawData","setRawData","start","handleData","e","ctx","reader","readAsArrayBuffer","data","onloadend","console","log","decodeAudioData","result","then","decodedData","view","getChannelData","URL","createObjectURL","addEventListener","removeEventListener","requestRecorder","error","axios","axios_default","pages_Recorder","_useRecorder","_useRecorder2","startRecording","stopRecording","sets","id","ref","forwardedRef","src","controls","onClick","disabled","pages_Player","url","marginRight","defaults","xsrfCookieName","xsrfHeaderName","processAudioData","_ref","response","method","headers","Content-Type","transformRequest","JSON","stringify","transformResponse","parse","_x","toConsumableArray","chart_esm","register","getPitchScatterData","processedData","i","length","NaN","SoundChart_PitchChart","chartRef","current","getContext","type","datasets","label","borderWidth","backgroundColor","scales","y","x","ProductionTask_useStyles","chart","marginBottom","ProductionTask","setProcessedData","isLoading","toggleLoading","setChartA","_useState9","_useState10","setChartB","item","pitchData","handleAudioChange","App","exact","path","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","document","getElementById","74","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 104:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 10 modules\nvar Button = __webpack_require__(133);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(130);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(131);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/pages/Welcome.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:theme.spacing(2),flexDirection:\"column\",minWidth:'100vw',minHeight:'80vh',display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:'relative',height:'100%',justifyContent:\"center\"},button:{position:'absolute',bottom:'0',right:'0'},grid:{height:\"50%\",justifyContent:\"center\",spacing:\"0\",alignItems:\"center\",direction:\"column\",minHeight:\"100%\"}};});var createTrial=function createTrial(props){// When the user selects Enter, experiement begins. \n// 1. Trial is created\n// 2. Responses are intialized\n};var Welcome_Welcome=function Welcome(props){var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.content,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{className:classes.paper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,className:classes.grid,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h1\",component:\"h2\",gutterBottom:true,children:\"Welcome\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.container,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* NavLink */],{className:classes.button,to:\"/2\",style:{textDecoration:'none'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",children:\"Enter\"})},'')})]})});};/* harmony default export */ var pages_Welcome = (Object(react_router[\"g\" /* withRouter */])(Welcome_Welcome));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/CircularProgress/CircularProgress.js + 73 modules\nvar CircularProgress = __webpack_require__(132);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(22);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(33);\n\n// CONCATENATED MODULE: ./src/components/utils/useRecorder.js\nvar options={audioBitsPerSecond:16000};var useRecorder_ctx=new AudioContext();var reader=new FileReader();var useRecorder_useRecorder=function useRecorder(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),audioURL=_useState2[0],setAudioURL=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isRecording=_useState4[0],setIsRecording=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),recorder=_useState6[0],setRecorder=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rawData=_useState8[0],setRawData=_useState8[1];Object(react[\"useEffect\"])(function(){// Lazily obtain recorder first time we're recording.\nif(recorder===null){if(isRecording){requestRecorder().then(setRecorder,console.error);}return;}// Manage recorder state.\nif(isRecording){recorder.start();}else{recorder.stop();}// Obtain the audio when ready.\nvar handleData=function handleData(e){// const blob = new Blob([e.data]);\nvar ctx=new AudioContext();var reader=new FileReader();reader.readAsArrayBuffer(e.data);reader.onloadend=function(){console.log('data loaded');ctx.decodeAudioData(reader.result).then(function(decodedData){console.log(decodedData);var view=decodedData.getChannelData(0);//\nsetRawData(view);// This might be done by \nsetAudioURL(URL.createObjectURL(e.data));//log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n});};};recorder.addEventListener(\"dataavailable\",handleData);return function(){return recorder.removeEventListener(\"dataavailable\",handleData);};},[recorder,isRecording]);var startRecording=function startRecording(){setIsRecording(true);};var stopRecording=function stopRecording(){setIsRecording(false);};return[audioURL,isRecording,startRecording,stopRecording,rawData];};function requestRecorder(){return _requestRecorder.apply(this,arguments);}function _requestRecorder(){_requestRecorder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var stream;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return navigator.mediaDevices.getUserMedia({audio:true});case 2:stream=_context.sent;return _context.abrupt(\"return\",new MediaRecorder(stream,options));case 4:case\"end\":return _context.stop();}}},_callee);}));return _requestRecorder.apply(this,arguments);}/* harmony default export */ var utils_useRecorder = (useRecorder_useRecorder);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(25);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/components/pages/Recorder.js\nvar Recorder_Recorder=function Recorder(props){var _useRecorder=utils_useRecorder(),_useRecorder2=Object(slicedToArray[\"a\" /* default */])(_useRecorder,5),audioURL=_useRecorder2[0],isRecording=_useRecorder2[1],startRecording=_useRecorder2[2],stopRecording=_useRecorder2[3],rawData=_useRecorder2[4];Object(react[\"useEffect\"])(function(){if(rawData){props.sets(rawData);}else console.log(\"No current audio.\");},[rawData]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Recorder\",id:\"recorder\",ref:props.forwardedRef,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{src:audioURL,controls:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:startRecording,disabled:isRecording,children:\"start\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:stopRecording,disabled:!isRecording,children:\"stop\"})]})});};/* harmony default export */ var pages_Recorder = (Recorder_Recorder);\n// CONCATENATED MODULE: ./src/components/pages/Player.js\nvar Player_Player=function Player(url){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Player\",style:{marginRight:\"100px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{controls:true,src:url})});};/* harmony default export */ var pages_Player = (Player_Player);\n// CONCATENATED MODULE: ./src/components/utils/csrfHelper.js\nvar getCSRF=function getCSRF(){try{var token=document.cookie.split('; ').find(function(row){return row.startsWith('csrftoken=');}).split('=')[1];return token;}catch(e){console.log('No CSRF token present. Are cookies disabled?');}};\n// CONCATENATED MODULE: ./src/components/utils/processAudio.js\naxios_default.a.defaults.xsrfCookieName='csrftoken';axios_default.a.defaults.xsrfHeaderName='X-CSRFToken';var processAudioData=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(data){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default()({method:\"post\",url:\"/api/process/\",data:data,headers:{\"Content-Type\":\"application/octet-stream\"},transformRequest:[function(data){console.log(\"hello from transform\");return JSON.stringify(data);}],transformResponse:[function(data){console.log(\"hello from response\");return JSON.parse(data);}]});case 2:response=_context.sent;console.log(\"Asychronous response\");return _context.abrupt(\"return\",response);case 5:case\"end\":return _context.stop();}}},_callee);}));return function processAudioData(_x){return _ref.apply(this,arguments);};}();var processAudioData2=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(data){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios_default()({method:\"post\",url:\"/api/process/\",data:data,headers:{\"Content-Type\":\"application/octet-stream\"},transformRequest:[function(data){return JSON.stringify(data);}],transformResponse:[function(data){return JSON.parse(data);}]});case 2:response=_context2.sent;return _context2.abrupt(\"return\",response);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function processAudioData2(_x2){return _ref2.apply(this,arguments);};}();\n// CONCATENATED MODULE: ./src/components/utils/submitResponse.js\nvar submitResponse=function submitResponse(){};/* harmony default export */ var utils_submitResponse = (submitResponse);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/chart.js/dist/chart.esm.js + 15 modules\nvar chart_esm = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/components/pages/SoundChart.js\nchart_esm[\"a\" /* Chart */].register.apply(chart_esm[\"a\" /* Chart */],Object(toConsumableArray[\"a\" /* default */])(chart_esm[\"b\" /* registerables */]));var skipped=function skipped(ctx,value){return ctx.p0.skip||ctx.p1.skip?value:undefined;};var down=function down(ctx,value){return ctx.p0.parsed.y>ctx.p1.parsed.y?value:undefined;};var getPitchScatterData=function getPitchScatterData(processedData){var data=processedData['x_y']||[];for(var i=0;i<data.length;i++){if(data[i]['x']===0){data[i]['x']=NaN;}if(data[i]['y']===0){data[i]['y']=NaN;}}return data;};var SoundChart_PitchChart=function PitchChart(props){var chartRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var ctx=chartRef.current.getContext('2d');var myChart=new chart_esm[\"a\" /* Chart */](ctx,{type:'scatter',data:{datasets:[{label:'Pitch Frequency',data:props.data,borderWidth:1,backgroundColor:'rgb(255, 99, 132)'}]},options:{scales:{y:{},x:{}}}});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",{id:\"question-data\",ref:chartRef});};var updateChart=function updateChart(chart,data){var processedData=getPitchScatterData(data);chart.data.datasets.data=data;chart.update();};/* harmony default export */ var SoundChart = (SoundChart_PitchChart);\n// CONCATENATED MODULE: ./src/components/pages/ProductionTask.js\nvar ProductionTask_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:theme.spacing(2),flexDirection:\"row\",minWidth:'100vw',minHeight:'80vh',display:\"flex-box\",elevation:3,alignItems:\"center\"},container:{position:'relative',height:'100%',justifyContent:\"center\"},button:{position:'absolute',bottom:'0',right:'0'},grid:{height:\"50%\",justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"100%\"},chart:{justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"40%\",marginBottom:\"1vh\",minWidth:\"35vw\"}};});var ProductionTask_ProdTask=function ProdTask(props){var classes=ProductionTask_useStyles();var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),processedData=_useState2[0],setProcessedData=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),taskData=_useState4[0],setTaskData=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoading=_useState6[0],toggleLoading=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),chartA=_useState8[0],setChartA=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),chartB=_useState10[0],setChartB=_useState10[1];var responseDataRef=Object(react[\"useRef\"])(null);var questionDataRef=Object(react[\"useRef\"])(null);var handleAudioChange=function handleAudioChange(data){// let newCanvas = resetCanvas('response-data', 'response-data-container', chartB)\nconsole.log(isLoading);processAudioData(data).then(function(response){var pitchData=getPitchScatterData(response.data);// setChartB(newPitchChart(newCanvas, pitchData, chartB)) // Destroys chart / resets element\nsetProcessedData(pitchData);toggleLoading(false);});};var nextTask=function nextTask(){var response={'taskData':taskData,'responseData':processedData};submitResponse();};Object(react[\"useEffect\"])(function(){// Update the document title using the browser API (next action... taskType determines the element to show)\nif(processedData===null){console.log(\"No changes recorded\");}else{console.log(\"Processed data changed:\",processedData);}},[processedData]);Object(react[\"useEffect\"])(function(){// setChartA(newPitchChart(questionDataRef.current, []))\n// setChartB(newPitchChart(responseDataRef.current, []))\n},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.content,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.grid,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{id:\"question-data-container\",className:classes.chart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SoundChart_PitchChart,{sets:setChartA,data:[]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Player,{url:\"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{id:\"response-data-container\",className:classes.chart,children:isLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CircularProgress[\"a\" /* default */],{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SoundChart_PitchChart,{sets:setChartB,data:processedData})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Recorder,{sets:function sets(data){handleAudioChange(data);toggleLoading(true);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:function onClick(){nextTask();},children:\"Welcome\"})})]})})});};/* harmony default export */ var ProductionTask = (Object(react_router[\"g\" /* withRouter */])(ProductionTask_ProdTask));\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* MemoryRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",component:pages_Welcome}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/2\",component:ProductionTask})]})})});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 135)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[104,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Welcome.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/utils/useRecorder.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Recorder.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Player.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/utils/csrfHelper.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/utils/processAudio.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/utils/submitResponse.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/SoundChart.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/ProductionTask.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/App.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/reportWebVitals.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/index.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/postcss-loader/src/index.js??postcss!/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/index.css"],"names":["useStyles","makeStyles","theme","content","justifyContent","display","paper","padding","spacing","flexDirection","minWidth","minHeight","elevation","alignItems","container","position","height","button","bottom","right","grid","direction","createTrial","props","Welcome","classes","textDecoration","withRouter","options","audioBitsPerSecond","ctx","AudioContext","reader","FileReader","useRecorder","useState","audioURL","setAudioURL","isRecording","setIsRecording","recorder","setRecorder","rawData","setRawData","useEffect","requestRecorder","then","console","error","start","stop","handleData","e","readAsArrayBuffer","data","onloadend","log","decodeAudioData","result","decodedData","view","getChannelData","URL","createObjectURL","addEventListener","removeEventListener","startRecording","stopRecording","navigator","mediaDevices","getUserMedia","audio","stream","MediaRecorder","Recorder","sets","forwardedRef","Player","url","marginRight","getCSRF","token","document","cookie","split","find","row","startsWith","axios","defaults","xsrfCookieName","xsrfHeaderName","processAudioData","method","headers","transformRequest","JSON","stringify","transformResponse","parse","response","processAudioData2","submitResponse","Chart","register","registerables","skipped","value","p0","skip","p1","undefined","down","parsed","y","getPitchScatterData","processedData","i","length","NaN","PitchChart","chartRef","useRef","current","getContext","myChart","type","datasets","label","borderWidth","backgroundColor","scales","x","updateChart","chart","update","marginBottom","ProdTask","setProcessedData","taskData","setTaskData","isLoading","toggleLoading","chartA","setChartA","chartB","setChartB","responseDataRef","questionDataRef","handleAudioChange","pitchData","nextTask","App","Unit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {withRouter, NavLink} from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n      padding: theme.spacing(2),\n      flexDirection: \"column\",\n      minWidth: '100vw',\n      minHeight: '80vh',\n      display:\"flex\",\n      elevation: 3,\n      justifyContent:\"center\",\n      alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"center\",\n        spacing:\"0\",\n        alignItems:\"center\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    }\n}));\n\nconst createTrial = (props) => {\n  // When the user selects Enter, experiement begins. \n  // 1. Trial is created\n  // 2. Responses are intialized\n  \n}\n\nconst Welcome = (props) => {\n    const classes = useStyles();\n  \n    return (\n      <div className={classes.content}>\n        <Paper className={classes.paper}>\n            <Grid container className={classes.grid}>\n                <Typography variant=\"h1\" component=\"h2\" gutterBottom>\n                    Welcome\n                </Typography>\n            </Grid>\n            <Container className={classes.container}>\n              <NavLink className={classes.button} to='/2' style={{ textDecoration: 'none' }} key= ''>\n                <Button variant=\"outlined\">Enter</Button>\n              </NavLink>\n            </Container>\n        </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(Welcome);\n\n","import { useEffect, useState } from \"react\";\n\n\n\nvar options = {\n  audioBitsPerSecond: 16000\n}\n\n\nconst ctx = new AudioContext();\nconst reader = new FileReader();\n\nconst useRecorder = () => {\nconst [audioURL, setAudioURL] = useState(\"\");\nconst [isRecording, setIsRecording] = useState(false);\nconst [recorder, setRecorder] = useState(null);\nconst [rawData, setRawData] = useState(null)\n  \n\n  useEffect(() => {\n    // Lazily obtain recorder first time we're recording.\n    if (recorder === null) {\n      if (isRecording) {\n        requestRecorder().then(setRecorder, console.error);\n      }\n      return;\n    }\n\n    // Manage recorder state.\n    if (isRecording) {\n      recorder.start();\n    } else {\n      recorder.stop();\n    }\n\n    // Obtain the audio when ready.\n    const handleData = e => {\n      // const blob = new Blob([e.data]);\n      let ctx = new AudioContext();\n      let reader = new FileReader();\n\n      reader.readAsArrayBuffer(e.data);\n      reader.onloadend = () => {\n        console.log('data loaded')\n        ctx.decodeAudioData(reader.result).then(function(decodedData) {\n          console.log(decodedData)\n          const view = decodedData.getChannelData(0) //\n          setRawData(view); // This might be done by \n          setAudioURL(URL.createObjectURL(e.data))//log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n       });  \n    }\n    }; \n\n    recorder.addEventListener(\"dataavailable\", handleData);\n    return () => recorder.removeEventListener(\"dataavailable\", handleData);\n  }, [recorder, isRecording]);\n\n  const startRecording = () => {\n    setIsRecording(true);\n  };\n\n  const stopRecording = () => {\n    setIsRecording(false);\n  };\n\n  return [audioURL, isRecording, startRecording, stopRecording, rawData];\n};\n\nasync function requestRecorder() {\n  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n  return new MediaRecorder(stream, options);\n}\nexport default useRecorder;\n\n\n","\nimport { useState, useRef, useEffect } from  'react'\nimport { render } from \"react-dom\";\nimport useRecorder from \"../utils/useRecorder\";\nimport axios from \"axios\";\nimport { Button, Container, Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst Recorder = (props) => {\n  let [audioURL, isRecording, startRecording, stopRecording, rawData] = useRecorder();\n  \n  useEffect(() => {\n    if (rawData) {\n      props.sets(rawData)\n    } else console.log(\"No current audio.\");\n  }, [rawData])\n\n  return (\n    <div className=\"Recorder\" id=\"recorder\" ref={props.forwardedRef}>\n    <Grid container>\n      <audio src={audioURL} controls/>\n      <Button onClick={startRecording} disabled={isRecording}>\n        start\n      </Button>\n      <Button onClick={stopRecording} disabled={!isRecording}>\n        stop\n      </Button>\n      </Grid> \n    </div>\n  );\n}\nexport default Recorder;","import React from 'react'\n\nconst Player = (url) => {\n    return (\n        <div className=\"Player\" style={{marginRight: \"100px\"}}>\n            <audio\n                controls\n                src={url}/>\n        </div>\n    )\n}\n\nexport default Player\n","export const getCSRF = () => {\n    try {\n    const token = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('csrftoken='))\n        .split('=')[1]\n    return token\n    } catch (e) {console.log('No CSRF token present. Are cookies disabled?')}\n}","import { getCSRF } from './csrfHelper.js'\nimport axios from 'axios'\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\nexport const processAudioData = async (data) => {\n    const response = await axios({\n        method: \"post\",\n        url: \"/api/process/\",\n        data: data,\n        headers: {\"Content-Type\": \"application/octet-stream\"},\n        transformRequest: [(data) => {\n            console.log(\"hello from transform\")\n            return JSON.stringify(data);\n        }],\n        transformResponse: [(data) => {\n            console.log(\"hello from response\")\n            return JSON.parse(data);\n        }]\n    });\n    console.log(\"Asychronous response\")\n    return response\n}\n\nexport const processAudioData2 = async (data) => {\n    const response = await axios({\n        method: \"post\",\n        url: \"/api/process/\",\n        data: data,\n        headers: {\"Content-Type\": \"application/octet-stream\"},\n        transformRequest: [(data) => {\n            return JSON.stringify(data);\n        }],\n        transformResponse: [(data) => {\n\n            return JSON.parse(data);\n        }]\n    });\n    return response\n}","export const submitResponse = () => {\n    \n}\n\nexport default submitResponse","import React, { useState, useEffect, useRef } from 'react'\nimport { Chart, registerables } from 'chart.js'\n\nChart.register(...registerables);\n\nconst skipped = (ctx, value) => ctx.p0.skip || ctx.p1.skip ? value : undefined;\nconst down = (ctx, value) => ctx.p0.parsed.y > ctx.p1.parsed.y ? value : undefined;\n\nexport const getPitchScatterData = (processedData) => {\n    \n    let data = processedData['x_y'] || []\n    for (let i = 0; i < data.length; i++) {\n        if (data[i]['x'] === 0) {\n            data[i]['x'] = NaN;\n        }\n        if (data[i]['y'] === 0) {\n            data[i]['y'] = NaN;\n        }\n      }\n\n    return data\n}\n\nexport const PitchChart = ( props ) => {\n    let chartRef = useRef()\n    \n    useEffect(() => {\n        let ctx = chartRef.current.getContext('2d')\n\n        let myChart = new Chart(ctx, {\n            type: 'scatter',\n            data: {\n                datasets: [{\n                    label: 'Pitch Frequency',\n                    data: props.data,\n                    borderWidth: 1,\n                    backgroundColor: 'rgb(255, 99, 132)'\n                    }]\n                },\n                options: {\n                    scales: {\n                        y: { },\n                        x: { }\n                    }\n                }\n            });\n        },[])\n\n    return (\n        <canvas id=\"question-data\" ref={chartRef}></canvas>\n    )\n}\n\nexport const updateChart = (chart, data) => {\n    const processedData = getPitchScatterData(data)\n    chart.data.datasets.data = data\n    chart.update()\n}\n\nexport default PitchChart\n","import React, { useState, useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { CircularProgress } from '@mui/material';\nimport { withRouter, NavLink } from 'react-router-dom';\nimport Recorder from './Recorder.js'\nimport Player from './Player.js';\nimport axios from 'axios';\nimport { processAudioData } from '../utils/processAudio.js'\nimport { submitResponse } from '../utils/submitResponse.js'\nimport { getPitchScatterData, resetCanvas, newCanvas, PitchChart } from './SoundChart.js';\nimport { getCSRF } from '../utils/csrfHelper'\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"row\",\n        minWidth: '100vw',\n        minHeight: '80vh',\n        display:\"flex-box\",\n        elevation: 3,\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    },\n\n    chart: {\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"40%\",\n        marginBottom: \"1vh\",\n        minWidth:\"35vw\",\n    }\n}));\n\nconst ProdTask = (props) => {\n    const classes = useStyles();\n    let [processedData, setProcessedData] = useState({})\n    let [taskData, setTaskData] = useState(true)\n    let [isLoading, toggleLoading] = useState(false)\n\n    let [chartA, setChartA] = useState()\n    let [chartB, setChartB] = useState()\n\n    let responseDataRef = useRef(null);\n    let questionDataRef = useRef(null);\n    \n    let handleAudioChange = (data) => {\n        // let newCanvas = resetCanvas('response-data', 'response-data-container', chartB)\n        console.log(isLoading)\n        processAudioData(data).then((response) => { \n            let pitchData = getPitchScatterData(response.data)\n            // setChartB(newPitchChart(newCanvas, pitchData, chartB)) // Destroys chart / resets element\n            setProcessedData(pitchData)\n            toggleLoading(false)\n         })\n    }\n\n    let nextTask = () => {\n\n        let response = { 'taskData': taskData, 'responseData': processedData }\n        submitResponse()\n    }\n\n    useEffect(() => {\n        // Update the document title using the browser API (next action... taskType determines the element to show)\n        if (processedData === null) { \n            console.log(\"No changes recorded\") \n        } else {\n        console.log(\"Processed data changed:\", processedData)}\n        \n        },[processedData]);\n\n    useEffect(() => {\n        // setChartA(newPitchChart(questionDataRef.current, []))\n        // setChartB(newPitchChart(responseDataRef.current, []))\n    },[]);\n\n    return (\n        <div className={classes.content}>\n            <Paper className={classes.paper}>\n                <Grid container className={classes.grid}>\n                    <Grid item>\n                        <Paper id=\"question-data-container\" className={classes.chart}>  \n                            <PitchChart sets={setChartA} data={[]}/>\n                        </Paper>\n                        <Player url={\"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3\"}></Player>\n                    </Grid>\n                    <Grid item>\n                        <Paper id=\"response-data-container\" className={classes.chart}>\n                            {isLoading ? <CircularProgress /> : <PitchChart sets={setChartB} data={processedData}/>}\n                        </Paper>\n                        <Recorder sets={(data) => {handleAudioChange(data); toggleLoading(true);} }/>\n                    </Grid>\n                    <Grid item>\n                        <Button variant=\"outlined\" onClick={() => {nextTask();}}>Welcome</Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(ProdTask)\n","import React, { useState, useEffect } from 'react'\nimport Welcome from './components/pages/Welcome'\nimport Unit from './components/pages/ProductionTask'\nimport { MemoryRouter } from \"react-router-dom\"\nimport { Route, Switch } from 'react-router-dom'\n\nexport default function App() {\n\n    return (\n      <div className=\"App\">\n        <MemoryRouter>\n          <Switch>\n            <Route exact path=\"/\" component={Welcome} />\n            <Route path=\"/2\" component={Unit} />\n          </Switch>\n        </MemoryRouter>\n        \n      </div>\n    );\n  }\n  ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin"]}}