{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,n){},253:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n(26),i=n.n(c),r=(n(119),n(269)),s=n(272),o=n(271),l=n(275),u=n(273),d=n(32),j=n(4),b=n(274),f=n(2),p=Object(r.a)((function(e){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:e.spacing(2),flexDirection:\"column\",minWidth:\"100vw\",minHeight:\"80vh\",display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:\"relative\",height:\"100%\",justifyContent:\"center\"},button:{position:\"absolute\",bottom:\"0\",right:\"0\"},grid:{height:\"50%\",justifyContent:\"center\",spacing:\"0\",alignItems:\"center\",direction:\"column\",minHeight:\"100%\"}}})),h=Object(j.g)((function(e){var t=p();return Object(f.jsx)(\"div\",{className:t.content,children:Object(f.jsxs)(o.a,{className:t.paper,children:[Object(f.jsx)(s.a,{container:!0,className:t.grid,children:Object(f.jsx)(u.a,{variant:\"h1\",component:\"h2\",gutterBottom:!0,children:\"Welcome\"})}),Object(f.jsx)(b.a,{className:t.container,children:Object(f.jsx)(d.a,{className:t.button,to:\"/2\",style:{textDecoration:\"none\"},children:Object(f.jsx)(l.a,{variant:\"outlined\",children:\"Enter\"})},\"\")})]})})})),O=n(8),m=n(67),g=n.n(m),v=n(103),x={audioBitsPerSecond:16e3};function y(){return(y=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:return t=e.sent,e.abrupt(\"return\",new MediaRecorder(t,x));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(a.useState)(\"\"),t=Object(O.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(O.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)(null),u=Object(O.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(null),f=Object(O.a)(b,2),p=f[0],h=f[1];Object(a.useEffect)((function(){if(null!==d){s?d.start():d.stop();var e=function(e){console.log(e.data);var t=new Blob([e.data]),n=new AudioContext,a=new FileReader;a.readAsArrayBuffer(t),a.onloadend=function(){n.decodeAudioData(a.result).then((function(t){var n=t.getChannelData(0);console.log(t),h(n),c(URL.createObjectURL(e.data))}))}};return d.addEventListener(\"dataavailable\",e),function(){return d.removeEventListener(\"dataavailable\",e)}}s&&function(){return y.apply(this,arguments)}().then(j,console.error)}),[d,s]);return[n,s,function(){o(!0)},function(){o(!1)},p]},N=n(48),w=n.n(N);w.a.defaults.xsrfCookieName=\"csrftoken\",w.a.defaults.xsrfHeaderName=\"X-CSRFToken\";var S=Object(r.a)((function(e){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:e.spacing(2),flexDirection:\"column\",minWidth:\"100vw\",minHeight:\"80vh\",display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:\"relative\",height:\"100%\",justifyContent:\"center\"},grid:{display:\"flex\",justifyContent:\"space-evenly\",spacing:\"2\"},chart:{height:\"100px\",border:\"black\"}}})),R=function(e){var t=C(),n=Object(O.a)(t,5),c=n[0],i=n[1],r=n[2],o=n[3],u=n[4],d=Object(a.useRef)(),j=S(),b=d.current;b&&b.addEventListener(\"canplaythrough\",(function(t){u&&e.sets(u)}));return Object(f.jsx)(\"div\",{className:\"Recorder\",id:\"recorder\",ref:e.forwardedRef,children:Object(f.jsxs)(s.a,{container:!0,className:j.grid,children:[Object(f.jsx)(\"audio\",{src:c,ref:d,controls:!0}),Object(f.jsx)(l.a,{onClick:r,disabled:i,children:\"start\"}),Object(f.jsx)(l.a,{onClick:o,disabled:!i,children:\"stop\"})]})})};function D(){return Object(f.jsx)(\"div\",{className:\"Player\",style:{marginRight:\"100px\"},children:Object(f.jsx)(\"audio\",{controls:!0,src:\"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3\"})})}n(254);var k=n(9),E=n(15);E.a.register.apply(E.a,Object(k.a)(E.c));var H=function(e){var t=e.data||[],n=t.time,a=t.pitch,c=n.map((function(e,t){return{x:e,y:a[t]}}));return console.log(c),c},I=function(e,t){var n=e.getContext(\"2d\");return new E.a(n,{type:\"scatter\",data:{datasets:[{label:\"Pitch Frequency\",data:t,borderWidth:1,backgroundColor:\"rgb(255, 99, 132)\"}]},options:{scales:{y:{},x:{}}}})},B=Object(r.a)((function(e){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:e.spacing(2),flexDirection:\"row\",minWidth:\"100vw\",minHeight:\"80vh\",display:\"flex-box\",elevation:3,alignItems:\"center\"},container:{position:\"relative\",height:\"100%\",justifyContent:\"center\"},button:{position:\"absolute\",bottom:\"0\",right:\"0\"},grid:{height:\"50%\",justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"100%\"},chart:{justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"40%\",marginBottom:\"1vh\",minWidth:\"35vw\"}}})),L=function(){try{return document.cookie.split(\"; \").find((function(e){return e.startsWith(\"csrftoken=\")})).split(\"=\")[1]}catch(e){console.log(e)}},F=Object(j.g)((function(e){var t=Object(a.useState)(),n=Object(O.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(),u=Object(O.a)(r,2),d=u[0],j=u[1],b=Object(a.useState)(null),p=Object(O.a)(b,2),h=p[0],m=p[1],g=Object(a.useState)(),v=Object(O.a)(g,2),x=(v[0],v[1]),y=Object(a.useState)(),C=Object(O.a)(y,2),N=(C[0],C[1]),w=B(),S=Object(a.useRef)(null),k=Object(a.useRef)(null);return Object(a.useEffect)((function(){void 0===c?console.log(\"None\"):function(e){console.log(d),document.getElementById(\"responseData\").remove();var t=document.createElement(\"canvas\");t.setAttribute(\"id\",\"responseData\"),document.getElementById(\"responseDataContainer\").append(t);var n=new XMLHttpRequest;n.open(\"POST\",\"/api/process/\",!0),n.setRequestHeader(\"X-CSRFToken\",L()),n.setRequestHeader(\"Content-Type\",\"application/octet-stream\"),n.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){var e=JSON.parse(n.responseText);I(t,H(e)),m(e)}},n.send(JSON.stringify(e))}(c)}),[c]),Object(a.useEffect)((function(){console.log(h)}),[h]),Object(a.useEffect)((function(){x(I(k.current,[])),N(I(S.current,[]))}),[]),Object(f.jsx)(\"div\",{className:w.content,children:Object(f.jsx)(o.a,{className:w.paper,children:Object(f.jsxs)(s.a,{container:!0,className:w.grid,children:[Object(f.jsxs)(s.a,{item:!0,children:[Object(f.jsx)(o.a,{className:w.chart,children:Object(f.jsx)(\"canvas\",{id:\"questionData\",ref:k})}),Object(f.jsx)(D,{})]}),Object(f.jsxs)(s.a,{item:!0,children:[Object(f.jsx)(o.a,{id:\"responseDataContainer\",className:w.chart,children:Object(f.jsx)(\"canvas\",{id:\"responseData\",ref:S})}),Object(f.jsx)(R,{sets:j})]}),Object(f.jsx)(s.a,{item:!0,children:Object(f.jsx)(l.a,{variant:\"outlined\",onClick:function(){i(d)},children:\"Welcome\"})})]})})})}));function W(){return Object(f.jsx)(\"div\",{className:\"App\",children:Object(f.jsx)(j.a,{children:Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{exact:!0,path:\"/\",component:h}),Object(f.jsx)(j.b,{path:\"/2\",component:F})]})})})}var T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};i.a.render(Object(f.jsx)(W,{}),document.getElementById(\"root\")),T()}},[[253,1,2]]]);","name":"static/js/main.57de21f5.chunk.js","map":{"version":3,"sources":["static/js/main.57de21f5.chunk.js"],"names":["this","push","119","module","exports","__webpack_require__","253","__webpack_exports__","r","react","react_dom","react_dom_default","n","makeStyles","Grid","Paper","Button","Typography","react_router_dom","react_router","Container","jsx_runtime","useStyles","Object","theme","content","justifyContent","display","paper","padding","spacing","flexDirection","minWidth","minHeight","elevation","alignItems","container","position","height","button","bottom","right","grid","direction","pages_Welcome","props","classes","className","children","variant","component","gutterBottom","to","style","textDecoration","slicedToArray","regenerator","regenerator_default","asyncToGenerator","options","audioBitsPerSecond","_requestRecorder","a","mark","_callee","stream","wrap","_context","prev","next","navigator","mediaDevices","getUserMedia","audio","sent","abrupt","MediaRecorder","stop","apply","arguments","pages_useRecorder","_useState","_useState2","audioURL","setAudioURL","_useState3","_useState4","isRecording","setIsRecording","_useState5","_useState6","recorder","setRecorder","_useState7","_useState8","rawData","setRawData","start","handleData","e","console","log","data","blob","Blob","ctx","AudioContext","reader","FileReader","readAsArrayBuffer","onloadend","decodeAudioData","result","then","decodedData","view","getChannelData","URL","createObjectURL","addEventListener","removeEventListener","requestRecorder","error","axios","axios_default","defaults","xsrfCookieName","xsrfHeaderName","Recorder_useStyles","chart","border","pages_Recorder","_useRecorder","_useRecorder2","startRecording","stopRecording","audioRef","current","event","sets","id","ref","forwardedRef","src","controls","onClick","disabled","Player","marginRight","toConsumableArray","chart_esm","register","getData","processedData","time","pitch","pData","map","x","i","y","SoundChart_newChart","element","getContext","type","datasets","label","borderWidth","backgroundColor","scales","ProductionTask_useStyles","marginBottom","getCSRF","document","cookie","split","find","row","startsWith","ProductionTask","setCurrentSrc","staged","setStagedData","setProcessedData","setChartA","_useState9","_useState10","setChartB","responseDataRef","questionDataRef","undefined","getElementById","remove","newCanvas","createElement","setAttribute","append","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","response","JSON","parse","responseText","send","stringify","processData","item","App","exact","path","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(26);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src_0 = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(269);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(272);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(271);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 10 modules\nvar Button = __webpack_require__(275);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(273);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(274);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/pages/Welcome.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:theme.spacing(2),flexDirection:\"column\",minWidth:'100vw',minHeight:'80vh',display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:'relative',height:'100%',justifyContent:\"center\"},button:{position:'absolute',bottom:'0',right:'0'},grid:{height:\"50%\",justifyContent:\"center\",spacing:\"0\",alignItems:\"center\",direction:\"column\",minHeight:\"100%\"}};});var Welcome_Welcome=function Welcome(props){var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.content,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{className:classes.paper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,className:classes.grid,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h1\",component:\"h2\",gutterBottom:true,children:\"Welcome\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.container,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* NavLink */],{className:classes.button,to:\"/2\",style:{textDecoration:'none'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",children:\"Enter\"})},'')})]})});};/* harmony default export */ var pages_Welcome = (Object(react_router[\"g\" /* withRouter */])(Welcome_Welcome));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(67);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(103);\n\n// CONCATENATED MODULE: ./src/components/pages/useRecorder.js\nvar options={audioBitsPerSecond:16000};var chunks=[];var useRecorder_useRecorder=function useRecorder(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),audioURL=_useState2[0],setAudioURL=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isRecording=_useState4[0],setIsRecording=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),recorder=_useState6[0],setRecorder=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rawData=_useState8[0],setRawData=_useState8[1];Object(react[\"useEffect\"])(function(){// Lazily obtain recorder first time we're recording.\nif(recorder===null){if(isRecording){requestRecorder().then(setRecorder,console.error);}return;}// Manage recorder state.\nif(isRecording){recorder.start();}else{recorder.stop();}// Obtain the audio when ready.\nvar handleData=function handleData(e){console.log(e.data);var blob=new Blob([e.data]);var ctx=new AudioContext();var reader=new FileReader();reader.readAsArrayBuffer(blob);reader.onloadend=function(){ctx.decodeAudioData(reader.result).then(function(decodedData){var view=decodedData.getChannelData(0);console.log(decodedData);setRawData(view);setAudioURL(URL.createObjectURL(e.data));//log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n});//log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n};};// Trying to set the media type here so it matches with upload\n// readyState will be 2\nrecorder.addEventListener(\"dataavailable\",handleData);return function(){return recorder.removeEventListener(\"dataavailable\",handleData);};},[recorder,isRecording]);var startRecording=function startRecording(){setIsRecording(true);};var stopRecording=function stopRecording(){setIsRecording(false);};return[audioURL,isRecording,startRecording,stopRecording,rawData];};function requestRecorder(){return _requestRecorder.apply(this,arguments);}function _requestRecorder(){_requestRecorder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var stream;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return navigator.mediaDevices.getUserMedia({audio:true});case 2:stream=_context.sent;return _context.abrupt(\"return\",new MediaRecorder(stream,options));case 4:case\"end\":return _context.stop();}}},_callee);}));return _requestRecorder.apply(this,arguments);}/* harmony default export */ var pages_useRecorder = (useRecorder_useRecorder);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(48);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/components/pages/Recorder.js\naxios_default.a.defaults.xsrfCookieName='csrftoken';axios_default.a.defaults.xsrfHeaderName='X-CSRFToken';var Recorder_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:theme.spacing(2),flexDirection:\"column\",minWidth:'100vw',minHeight:'80vh',display:\"flex\",elevation:3,justifyContent:\"center\",alignItems:\"center\"},container:{position:'relative',height:'100%',justifyContent:\"center\"},grid:{display:\"flex\",justifyContent:\"space-evenly\",spacing:\"2\"},chart:{height:\"100px\",border:\"black\"}};});var Recorder_Recorder=function Recorder(props){var _useRecorder=pages_useRecorder(),_useRecorder2=Object(slicedToArray[\"a\" /* default */])(_useRecorder,5),audioURL=_useRecorder2[0],isRecording=_useRecorder2[1],startRecording=_useRecorder2[2],stopRecording=_useRecorder2[3],rawData=_useRecorder2[4];var audioRef=Object(react[\"useRef\"])();var classes=Recorder_useStyles();var audio=audioRef.current;// const handlestop = props.sets(rawData)\nvar currentAudio=audio?audio.addEventListener('canplaythrough',function(event){if(rawData){props.sets(rawData);};return;}):\"NONE\";return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Recorder\",id:\"recorder\",ref:props.forwardedRef,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.grid,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{src:audioURL,ref:audioRef,controls:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:startRecording,disabled:isRecording,children:\"start\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:stopRecording,disabled:!isRecording,children:\"stop\"})]})});};/* harmony default export */ var pages_Recorder = (Recorder_Recorder);\n// CONCATENATED MODULE: ./src/components/pages/Player.js\nfunction Player(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Player\",style:{marginRight:\"100px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"audio\",{controls:true,src:\"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3\"})});}\n// EXTERNAL MODULE: ./node_modules/react-chartjs-2/dist/index.modern.js + 1 modules\nvar index_modern = __webpack_require__(254);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/chart.js/dist/chart.esm.js + 16 modules\nvar chart_esm = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/components/pages/SoundChart.js\nchart_esm[\"a\" /* Chart */].register.apply(chart_esm[\"a\" /* Chart */],Object(toConsumableArray[\"a\" /* default */])(chart_esm[\"c\" /* registerables */]));var getData=function getData(processedData){var data=processedData['data']||[];var time=data['time'];var pitch=data['pitch'];var pData=time.map(function(x,i){return{x:x,y:pitch[i]};});console.log(pData);return pData;};var getConfig=function getConfig(){var config={type:'scatter',datasets:[],options:{scales:{x:{grid:{tickColor:'red'},ticks:{color:'blue'}}}}};return config;};var createChart=function createChart(parent){var chart=document.createElement('canvas');chart.setAttribute(\"id\",\"Chart\");parent.appendChild(chart);return chart;};var SoundChart_newChart=function newChart(element,data){var ctx=element.getContext('2d');var myChart=new chart_esm[\"a\" /* Chart */](ctx,{type:'scatter',data:{datasets:[{label:'Pitch Frequency',data:data,borderWidth:1,backgroundColor:'rgb(255, 99, 132)'}]},options:{scales:{y:{},x:{}}}});return myChart;};var updateChart=function updateChart(chart,data){var processedData=getData(data);console.log(processedData);console.log(chart);chart.data.datasets.data=data;chart.update();};// export const updateChart = () => {\n// }\n/* harmony default export */ var SoundChart = (SoundChart_newChart);\n// CONCATENATED MODULE: ./src/components/pages/ProductionTask.js\nvar ProductionTask_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{content:{justifyContent:\"center\",display:\"flex\"},paper:{padding:theme.spacing(2),flexDirection:\"row\",minWidth:'100vw',minHeight:'80vh',display:\"flex-box\",elevation:3,alignItems:\"center\"},container:{position:'relative',height:'100%',justifyContent:\"center\"},button:{position:'absolute',bottom:'0',right:'0'},grid:{height:\"50%\",justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"100%\"},chart:{justifyContent:\"space-evenly\",spacing:\"0\",alignItems:\"flex-end\",direction:\"column\",minHeight:\"40%\",marginBottom:\"1vh\",minWidth:\"35vw\"}};});var getCSRF=function getCSRF(){try{var token=document.cookie.split('; ').find(function(row){return row.startsWith('csrftoken=');}).split('=')[1];return token;}catch(e){console.log(e);}};var ProductionTask_uploadFile=function uploadFile(file,s3Data,url){var xhr=new XMLHttpRequest();xhr.open(\"POST\",url);console.log(s3Data);var postData=new FormData();var fields=s3Data.fields;console.log(fields);Object.entries(s3Data).forEach(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),key=_ref2[0],value=_ref2[1];return xhr.setRequestHeader(key,value);});postData.append('file',file);xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200||xhr.status===204){var response=JSON.parse(xhr.responseText);console.log(response);}else{alert(\"Could not upload file.\");}}};console.log(file);xhr.send(postData);};var getSignedRequest=function getSignedRequest(file){var xhr=new XMLHttpRequest();xhr.open(\"GET\",\"/api/sign_s3\");xhr.setRequestHeader(\"X-CSRFToken\",getCSRF());xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){var response=JSON.parse(xhr.responseText);console.log(response);ProductionTask_uploadFile(file,response.data,response.url);}else{alert(\"Could not get signed URL.\");}}};xhr.send();};var ProductionTask_ProdTask=function ProdTask(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),src=_useState2[0],setCurrentSrc=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),staged=_useState4[0],setStagedData=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),processedData=_useState6[0],setProcessedData=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),chartA=_useState8[0],setChartA=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),chartB=_useState10[0],setChartB=_useState10[1];var classes=ProductionTask_useStyles();var responseDataRef=Object(react[\"useRef\"])(null);var questionDataRef=Object(react[\"useRef\"])(null);var handleChange=function handleChange(){var audio=staged;// document.getElementById(\"recorder\").currentSrc\nsetCurrentSrc(staged);// console.log(src)\n};var processData=function processData(data){console.log(staged);document.getElementById('responseData').remove();var newCanvas=document.createElement('canvas');newCanvas.setAttribute('id','responseData');document.getElementById('responseDataContainer').append(newCanvas);var xhr=new XMLHttpRequest();xhr.open(\"POST\",\"/api/process/\",true);xhr.setRequestHeader(\"X-CSRFToken\",getCSRF());//Send the proper header information along with the request\nxhr.setRequestHeader(\"Content-Type\",\"application/octet-stream\");xhr.onreadystatechange=function(){// Call a function when the state changes.\nif(this.readyState===XMLHttpRequest.DONE&&this.status===200){var response=JSON.parse(xhr.responseText);SoundChart_newChart(newCanvas,getData(response));setProcessedData(response);}};xhr.send(JSON.stringify(data));};// useEffect(() => {\n//     // Update the document title using the browser API\n//     src === undefined ? console.log(\"None\") : processData(src)},[src]);\nObject(react[\"useEffect\"])(function(){// Update the document title using the browser AP\nsrc===undefined?console.log(\"None\"):processData(src);},[src]);Object(react[\"useEffect\"])(function(){// Update the document title using the browser API\nconsole.log(processedData);},[processedData]);Object(react[\"useEffect\"])(function(){setChartA(SoundChart_newChart(questionDataRef.current,[]));setChartB(SoundChart_newChart(responseDataRef.current,[]));// Update the document title using the browser AP\n},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.content,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.grid,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.chart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",{id:\"questionData\",ref:questionDataRef})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Player,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{id:\"responseDataContainer\",className:classes.chart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",{id:\"responseData\",ref:responseDataRef})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Recorder,{sets:setStagedData})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:handleChange,children:\"Welcome\"})})]})})});};/* harmony default export */ var ProductionTask = (Object(react_router[\"g\" /* withRouter */])(ProductionTask_ProdTask));\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* MemoryRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",component:pages_Welcome}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/2\",component:ProductionTask})]})})});}\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 277)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[253,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/node_modules/postcss-loader/src/index.js??postcss!/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/index.css","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Welcome.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/useRecorder.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Recorder.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/Player.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/SoundChart.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/components/pages/ProductionTask.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/App.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/reportWebVitals.js","/Users/kylebeloin/Desktop/intonation_trainer/intonation_trainer/src/index.js"],"names":["useStyles","makeStyles","theme","content","justifyContent","display","paper","padding","spacing","flexDirection","minWidth","minHeight","elevation","alignItems","container","position","height","button","bottom","right","grid","direction","Welcome","props","classes","textDecoration","withRouter","options","audioBitsPerSecond","chunks","useRecorder","useState","audioURL","setAudioURL","isRecording","setIsRecording","recorder","setRecorder","rawData","setRawData","useEffect","requestRecorder","then","console","error","start","stop","handleData","e","log","data","blob","Blob","ctx","AudioContext","reader","FileReader","readAsArrayBuffer","onloadend","decodeAudioData","result","decodedData","view","getChannelData","URL","createObjectURL","addEventListener","removeEventListener","startRecording","stopRecording","navigator","mediaDevices","getUserMedia","audio","stream","MediaRecorder","axios","defaults","xsrfCookieName","xsrfHeaderName","chart","border","Recorder","audioRef","useRef","current","currentAudio","event","sets","forwardedRef","Player","marginRight","Chart","register","registerables","getData","processedData","time","pitch","pData","map","x","i","y","getConfig","config","type","datasets","scales","tickColor","ticks","color","createChart","parent","document","createElement","setAttribute","appendChild","newChart","element","getContext","myChart","label","borderWidth","backgroundColor","updateChart","update","marginBottom","getCSRF","token","cookie","split","find","row","startsWith","uploadFile","file","s3Data","url","xhr","XMLHttpRequest","open","postData","FormData","fields","Object","entries","forEach","key","value","setRequestHeader","append","onreadystatechange","readyState","status","response","JSON","parse","responseText","alert","send","getSignedRequest","ProdTask","src","setCurrentSrc","staged","setStagedData","setProcessedData","chartA","setChartA","chartB","setChartB","responseDataRef","questionDataRef","handleChange","processData","getElementById","remove","newCanvas","DONE","stringify","undefined","App","Unit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {withRouter, NavLink} from 'react-router-dom'\nimport Container from '@material-ui/core/Container'\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n      padding: theme.spacing(2),\n      flexDirection: \"column\",\n      minWidth: '100vw',\n      minHeight: '80vh',\n      display:\"flex\",\n      elevation: 3,\n      justifyContent:\"center\",\n      alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"center\",\n        spacing:\"0\",\n        alignItems:\"center\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    }\n}));\n\nconst Welcome = (props) => {\n    const classes = useStyles();\n  \n    return (\n      <div className={classes.content}>\n        <Paper className={classes.paper}>\n            <Grid container className={classes.grid}>\n                <Typography variant=\"h1\" component=\"h2\" gutterBottom>\n                    Welcome\n                </Typography>\n            </Grid>\n            <Container className={classes.container}>\n              <NavLink className={classes.button} to='/2' style={{ textDecoration: 'none' }} key= ''>\n                <Button variant=\"outlined\">Enter</Button>\n              </NavLink>\n            </Container>\n        </Paper>\n        </div>\n        );\n    }\n\nexport default withRouter(Welcome);\n\n","import { useEffect, useState } from \"react\";\n\n\n\nvar options = {\n  audioBitsPerSecond: 16000\n}\n\nvar chunks = []\n\n\nconst useRecorder = () => {\n  const [audioURL, setAudioURL] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [recorder, setRecorder] = useState(null);\n  const [rawData, setRawData] = useState(null)\n\n  useEffect(() => {\n    // Lazily obtain recorder first time we're recording.\n    if (recorder === null) {\n      if (isRecording) {\n        requestRecorder().then(setRecorder, console.error);\n      }\n      return;\n    }\n\n    // Manage recorder state.\n    if (isRecording) {\n      recorder.start();\n    } else {\n      recorder.stop();\n    }\n\n    // Obtain the audio when ready.\n    const handleData = e => {\n    console.log(e.data)\n    const blob = new Blob([e.data]);\n    const ctx = new AudioContext()\n    \n\n    var reader = new FileReader();\n    reader.readAsArrayBuffer(blob);\n    reader.onloadend = () => {\n      ctx.decodeAudioData(reader.result).then(function(decodedData) {\n        const view = decodedData.getChannelData(0)\n        console.log(decodedData)\n        setRawData(view);\n        setAudioURL(URL.createObjectURL(e.data))//log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n       });\n      \n      //log of base64data is \"data:audio/ogg; codecs=opus;base64,GkX...\"\n    }\n    \n    }; \n      \n     // Trying to set the media type here so it matches with upload\n    \n    \n    // readyState will be 2\n\n    recorder.addEventListener(\"dataavailable\", handleData);\n    return () => recorder.removeEventListener(\"dataavailable\", handleData);\n  }, [recorder, isRecording]);\n\n  const startRecording = () => {\n    setIsRecording(true);\n  };\n\n  const stopRecording = () => {\n    setIsRecording(false);\n  };\n\n  return [audioURL, isRecording, startRecording, stopRecording, rawData];\n};\n\nasync function requestRecorder() {\n  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n  return new MediaRecorder(stream, options);\n}\nexport default useRecorder;\n\n\n","\nimport { useState, useRef } from  'react'\nimport { render } from \"react-dom\";\nimport useRecorder from \"./useRecorder\";\nimport axios from \"axios\";\nimport { Button, Container, Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles';\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"column\",\n        minWidth: '100vw',\n        minHeight: '80vh',\n        display:\"flex\",\n        elevation: 3,\n        justifyContent:\"center\",\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    \n    grid: {\n      display:\"flex\",\n        justifyContent:\"space-evenly\",\n        spacing:\"2\",\n    },\n\n    chart: {\n      height: \"100px\",\n      border: \"black\"\n\n    }\n}));\n\nconst Recorder = (props) => {\n  let [audioURL, isRecording, startRecording, stopRecording, rawData] = useRecorder();\n  let audioRef = useRef()\n  const classes = useStyles();\n  const audio = audioRef.current\n\n  // const handlestop = props.sets(rawData)\n  \n  const currentAudio = audio ? audio.addEventListener('canplaythrough', (event) => {\n    if (rawData) {props.sets(rawData)};\n    return\n  }) : \"NONE\";\n\n  return (\n    <div className=\"Recorder\" id=\"recorder\" ref={props.forwardedRef}>\n    <Grid container className={classes.grid}>\n      <audio src={audioURL} ref={audioRef} controls/>\n      <Button onClick={startRecording} disabled={isRecording}>\n        start\n      </Button>\n      <Button onClick={stopRecording} disabled={!isRecording}>\n        stop\n      </Button>\n      </Grid> \n    </div>\n  );\n}\nexport default Recorder;","import React from 'react'\n\nexport default function Player() {\n    return (\n        <div className=\"Player\" style={{marginRight: \"100px\"}}>\n            <audio\n                controls\n                src=\"https://intonation-trainer.s3.us-east-2.amazonaws.com/test-audio.mp3\" />\n        </div>\n    )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport { Chart, registerables } from 'chart.js'\n\nChart.register(...registerables);\n\nexport const getData = (processedData) => {\n    const data = processedData['data'] || []\n    const time = data['time']\n    const pitch = data['pitch']\n    const pData = time.map((x, i) => ({ x, y: pitch[i] }))\n    \n    console.log(pData)\n    \n    return pData\n}\n\n\nconst getConfig = () => {  \n    const config = {\n        type: 'scatter',\n        datasets: [],\n        options: {\n          scales: {\n            x: {\n              grid: {\n                tickColor: 'red'\n              },\n              ticks: {\n                color: 'blue',\n              }\n            }\n          }\n        }\n      };\n    return config\n}\n\nexport const createChart = (parent) => {\n    const chart = document.createElement('canvas');\n    chart.setAttribute(\"id\", \"Chart\");\n    parent.appendChild(chart)\n    return chart\n}\n\nexport const newChart = ( element, data ) => {\n    var ctx = element.getContext('2d')\n    const myChart = new Chart(ctx, {\n            type: 'scatter',\n            data: {\n                datasets: [{\n                    label: 'Pitch Frequency',\n                    data: data,\n                    borderWidth: 1,\n                    backgroundColor: 'rgb(255, 99, 132)'\n                }]\n            },\n            options: {\n                scales: {\n                    y: { },\n                    x: { }\n                }\n            }\n        });\n    return myChart\n}\n\nexport const updateChart = (chart, data) => {\n    const processedData = getData(data)\n    console.log(processedData)\n    console.log(chart)\n    chart.data.datasets.data = data\n    chart.update()\n    \n}\n\n\n// export const updateChart = () => {\n\n// }\n\nexport default newChart\n","import React, { useState, useEffect, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container'\nimport { withRouter, NavLink } from 'react-router-dom';\nimport Recorder from './Recorder.js'\nimport Player from './Player.js';\nimport axios from \"axios\";\nimport { Scatter} from 'react-chartjs-2'\nimport { newChart, updateChart, getData } from './SoundChart.js';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    justifyContent: \"center\",\n    display: \"flex\"\n  },\n    paper: {\n        padding: theme.spacing(2),\n        flexDirection: \"row\",\n        minWidth: '100vw',\n        minHeight: '80vh',\n        display:\"flex-box\",\n        elevation: 3,\n        alignItems:\"center\"\n    },\n    container: {\n        position: 'relative',\n        height: '100%',\n        justifyContent: \"center\"\n    },\n    button: {\n        position: 'absolute',\n        bottom:'0',\n        right: '0'\n    },\n    grid: {\n        height: \"50%\",\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"100%\"\n    },\n\n    chart: {\n        justifyContent:\"space-evenly\",\n        spacing:\"0\",\n        alignItems:\"flex-end\",\n        direction:\"column\",\n        minHeight:\"40%\",\n        marginBottom: \"1vh\",\n        minWidth:\"35vw\",\n    }\n}));\n\nconst getCSRF = () => {\n    try {\n    const token = document.cookie\n        .split('; ')\n        .find(row => row.startsWith('csrftoken='))\n        .split('=')[1]\n    return token\n    } catch (e) {console.log(e)}\n}\n\nconst uploadFile = (file, s3Data, url) => {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"POST\",url);\n    console.log(s3Data)\n    var postData = new FormData();\n    var fields = s3Data.fields\n    console.log(fields)\n    Object.entries(s3Data).forEach(([key, value]) => \n    xhr.setRequestHeader(key, value));\n\n    postData.append('file', file);\n  \n    xhr.onreadystatechange = function() {\n      if(xhr.readyState === 4){\n        if(xhr.status === 200 || xhr.status === 204){\n            var response = JSON.parse(xhr.responseText);\n            console.log(response)\n        }\n        else{\n          alert(\"Could not upload file.\");\n        }\n     }\n    };\n    console.log(file)\n    xhr.send(postData);\n  }\n\n\nconst getSignedRequest = (file) => {\n    \n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"/api/sign_s3\");\n    xhr.setRequestHeader(\"X-CSRFToken\", getCSRF());\n    xhr.onreadystatechange = function(){\n        if(xhr.readyState === 4){\n        if(xhr.status === 200){\n            var response = JSON.parse(xhr.responseText);\n            console.log(response)\n            uploadFile(file, response.data, response.url);\n        }\n        else{\n            alert(\"Could not get signed URL.\");\n        }\n        }\n    };\n    xhr.send();\n    }\n\n\n\nconst ProdTask = (props) => {\n    let [src, setCurrentSrc] = useState()\n    let [staged, setStagedData] = useState()\n    let [processedData, setProcessedData] = useState(null)\n    let [chartA, setChartA] = useState()\n    let [chartB, setChartB] = useState()\n    const classes = useStyles();\n    const responseDataRef = useRef(null);\n    const questionDataRef = useRef(null);\n    \n    \n\n    const handleChange = () => {\n        let audio = staged\n        \n        // document.getElementById(\"recorder\").currentSrc\n        setCurrentSrc(staged)     // console.log(src)\n    }\n    \n    const processData = (data) => {\n        console.log(staged)\n        document.getElementById('responseData').remove()\n        const newCanvas = document.createElement('canvas')\n        newCanvas.setAttribute('id', 'responseData')\n        \n        document.getElementById('responseDataContainer').append(newCanvas)\n\n        var xhr = new XMLHttpRequest()\n        xhr.open(\"POST\", \"/api/process/\", true);\n        xhr.setRequestHeader(\"X-CSRFToken\", getCSRF());\n        //Send the proper header information along with the request\n        xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n    \n        \n        xhr.onreadystatechange = function() { // Call a function when the state changes.\n            if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {\n                var response = JSON.parse(xhr.responseText);\n                newChart(newCanvas, getData(response))\n                setProcessedData(response)\n                \n            }\n        }\n        \n        xhr.send(JSON.stringify(data))\n    \n    }\n    // useEffect(() => {\n    //     // Update the document title using the browser API\n        \n    //     src === undefined ? console.log(\"None\") : processData(src)},[src]);\n    \n    useEffect(() => {\n        // Update the document title using the browser AP\n        src === undefined ? console.log(\"None\") : processData(src)},[src]);\n\n    useEffect(() => {\n            // Update the document title using the browser API\n        \n        console.log(processedData)\n    },[processedData]);\n\n    useEffect(() => {\n        setChartA(newChart(questionDataRef.current, []))\n        setChartB(newChart(responseDataRef.current, []))\n        // Update the document title using the browser AP\n},[]);\n    \n\n    \n    return (\n        <div className={classes.content}>\n            <Paper className={classes.paper}>\n                <Grid container className={classes.grid}>\n                    <Grid item>\n                        <Paper className={classes.chart}>  \n                            <canvas id=\"questionData\" ref={questionDataRef}></canvas>\n                        </Paper>\n                        <Player/>\n                    </Grid>\n                    <Grid item>\n                        <Paper id=\"responseDataContainer\" className={classes.chart}>\n                            <canvas id=\"responseData\" ref={responseDataRef}></canvas>\n                        </Paper>\n                        <Recorder sets={setStagedData}/>\n                    </Grid>\n                    <Grid item>\n                        <Button variant=\"outlined\" onClick={handleChange}>Welcome</Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n        );\n    }\nexport default withRouter(ProdTask)\n","import React, { useState, useEffect } from 'react'\nimport Welcome from './components/pages/Welcome'\nimport Unit from './components/pages/ProductionTask'\nimport { MemoryRouter } from \"react-router-dom\"\nimport { Route, Switch } from 'react-router-dom'\n\nexport default function App() {\n\n    return (\n      <div className=\"App\">\n        <MemoryRouter>\n          <Switch>\n            <Route exact path=\"/\" component={Welcome} />\n            <Route path=\"/2\" component={Unit} />\n          </Switch>\n        </MemoryRouter>\n        \n      </div>\n    );\n  }\n  ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}